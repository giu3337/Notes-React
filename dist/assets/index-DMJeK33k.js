(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ws(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Om={exports:{}},Ks={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rh=Object.getOwnPropertySymbols,g0=Object.prototype.hasOwnProperty,_0=Object.prototype.propertyIsEnumerable;function v0(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function y0(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Lm=y0()?Object.assign:function(t,e){for(var n,r=v0(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)g0.call(n,o)&&(r[o]=n[o]);if(rh){i=rh(n);for(var u=0;u<i.length;u++)_0.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r},xm={exports:{}},le={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=Lm,ci=60103,zm=60106;le.Fragment=60107;le.StrictMode=60108;le.Profiler=60114;var jm=60109,Fm=60110,$m=60112;le.Suspense=60113;var Bm=60115,Um=60116;if(typeof Symbol=="function"&&Symbol.for){var bt=Symbol.for;ci=bt("react.element"),zm=bt("react.portal"),le.Fragment=bt("react.fragment"),le.StrictMode=bt("react.strict_mode"),le.Profiler=bt("react.profiler"),jm=bt("react.provider"),Fm=bt("react.context"),$m=bt("react.forward_ref"),le.Suspense=bt("react.suspense"),Bm=bt("react.memo"),Um=bt("react.lazy")}var ih=typeof Symbol=="function"&&Symbol.iterator;function w0(t){return t===null||typeof t!="object"?null:(t=ih&&t[ih]||t["@@iterator"],typeof t=="function"?t:null)}function Gs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm={};function di(t,e,n){this.props=t,this.context=e,this.refs=qm,this.updater=n||Hm}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Gs(85));this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wm(){}Wm.prototype=di.prototype;function ld(t,e,n){this.props=t,this.context=e,this.refs=qm,this.updater=n||Hm}var cd=ld.prototype=new Wm;cd.constructor=ld;ud(cd,di.prototype);cd.isPureReactComponent=!0;var dd={current:null},Km=Object.prototype.hasOwnProperty,Gm={key:!0,ref:!0,__self:!0,__source:!0};function Qm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Km.call(e,r)&&!Gm.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ci,type:t,key:s,ref:o,props:i,_owner:dd.current}}function E0(t,e){return{$$typeof:ci,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ci}function T0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sh=/\/+/g;function Zu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T0(""+t.key):e.toString(36)}function Wo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ci:case zm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zu(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(sh,"$&/")+"/"),Wo(i,e,n,"",function(c){return c})):i!=null&&(fd(i)&&(i=E0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+Zu(s,u);o+=Wo(s,e,n,l,i)}else if(l=w0(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+Zu(s,u++),o+=Wo(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(Gs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function To(t,e,n){if(t==null)return t;var r=[],i=0;return Wo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S0(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Ym={current:null};function pn(){var t=Ym.current;if(t===null)throw Error(Gs(321));return t}var k0={ReactCurrentDispatcher:Ym,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:dd,IsSomeRendererActing:{current:!1},assign:ud};le.Children={map:To,forEach:function(t,e,n){To(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return To(t,function(){e++}),e},toArray:function(t){return To(t,function(e){return e})||[]},only:function(t){if(!fd(t))throw Error(Gs(143));return t}};le.Component=di;le.PureComponent=ld;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k0;le.cloneElement=function(t,e,n){if(t==null)throw Error(Gs(267,t));var r=ud({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)Km.call(e,l)&&!Gm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:ci,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Fm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:jm,_context:t},t.Consumer=t};le.createElement=Qm;le.createFactory=function(t){var e=Qm.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:$m,render:t}};le.isValidElement=fd;le.lazy=function(t){return{$$typeof:Um,_payload:{_status:-1,_result:t},_init:S0}};le.memo=function(t,e){return{$$typeof:Bm,type:t,compare:e===void 0?null:e}};le.useCallback=function(t,e){return pn().useCallback(t,e)};le.useContext=function(t,e){return pn().useContext(t,e)};le.useDebugValue=function(){};le.useEffect=function(t,e){return pn().useEffect(t,e)};le.useImperativeHandle=function(t,e,n){return pn().useImperativeHandle(t,e,n)};le.useLayoutEffect=function(t,e){return pn().useLayoutEffect(t,e)};le.useMemo=function(t,e){return pn().useMemo(t,e)};le.useReducer=function(t,e,n){return pn().useReducer(t,e,n)};le.useRef=function(t){return pn().useRef(t)};le.useState=function(t){return pn().useState(t)};le.version="17.0.2";xm.exports=le;var Pt=xm.exports;const nn=Ws(Pt);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=Pt,Xm=60103;Ks.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var oh=Symbol.for;Xm=oh("react.element"),Ks.Fragment=oh("react.fragment")}var I0=C0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A0=Object.prototype.hasOwnProperty,P0={key:!0,ref:!0,__self:!0,__source:!0};function Jm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)A0.call(e,r)&&!P0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Xm,type:t,key:s,ref:o,props:i,_owner:I0.current}}Ks.jsx=Jm;Ks.jsxs=Jm;Om.exports=Ks;var Me=Om.exports,Zm={exports:{}},Rt={},eg={exports:{}},tg={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var R=t.unstable_now();l(!0,R),l=null}catch(H){throw setTimeout(h,0),H}};e=function(R){l!==null?setTimeout(e,0,R):(l=R,setTimeout(h,0))},n=function(R,H){c=setTimeout(R,H)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,y=window.clearTimeout;if(typeof console<"u"){var I=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof I!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var P=!1,C=null,g=-1,m=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<R?Math.floor(1e3/R):5};var k=new MessageChannel,a=k.port2;k.port1.onmessage=function(){if(C!==null){var R=t.unstable_now();_=R+m;try{C(!0,R)?a.postMessage(null):(P=!1,C=null)}catch(H){throw a.postMessage(null),H}}else P=!1},e=function(R){C=R,P||(P=!0,a.postMessage(null))},n=function(R,H){g=v(function(){R(t.unstable_now())},H)},r=function(){y(g),g=-1}}function f(R,H){var K=R.length;R.push(H);e:for(;;){var re=K-1>>>1,ie=R[re];if(ie!==void 0&&0<w(ie,H))R[re]=H,R[K]=ie,K=re;else break e}}function d(R){return R=R[0],R===void 0?null:R}function p(R){var H=R[0];if(H!==void 0){var K=R.pop();if(K!==H){R[0]=K;e:for(var re=0,ie=R.length;re<ie;){var me=2*(re+1)-1,Ee=R[me],j=me+1,V=R[j];if(Ee!==void 0&&0>w(Ee,K))V!==void 0&&0>w(V,Ee)?(R[re]=V,R[j]=K,re=j):(R[re]=Ee,R[me]=K,re=me);else if(V!==void 0&&0>w(V,K))R[re]=V,R[j]=K,re=j;else break e}}return H}return null}function w(R,H){var K=R.sortIndex-H.sortIndex;return K!==0?K:R.id-H.id}var E=[],T=[],A=1,O=null,b=3,N=!1,M=!1,S=!1;function D(R){for(var H=d(T);H!==null;){if(H.callback===null)p(T);else if(H.startTime<=R)p(T),H.sortIndex=H.expirationTime,f(E,H);else break;H=d(T)}}function B(R){if(S=!1,D(R),!M)if(d(E)!==null)M=!0,e(U);else{var H=d(T);H!==null&&n(B,H.startTime-R)}}function U(R,H){M=!1,S&&(S=!1,r()),N=!0;var K=b;try{for(D(H),O=d(E);O!==null&&(!(O.expirationTime>H)||R&&!t.unstable_shouldYield());){var re=O.callback;if(typeof re=="function"){O.callback=null,b=O.priorityLevel;var ie=re(O.expirationTime<=H);H=t.unstable_now(),typeof ie=="function"?O.callback=ie:O===d(E)&&p(E),D(H)}else p(E);O=d(E)}if(O!==null)var me=!0;else{var Ee=d(T);Ee!==null&&n(B,Ee.startTime-H),me=!1}return me}finally{O=null,b=K,N=!1}}var se=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){M||N||(M=!0,e(U))},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return d(E)},t.unstable_next=function(R){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var K=b;b=H;try{return R()}finally{b=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=se,t.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=b;b=R;try{return H()}finally{b=K}},t.unstable_scheduleCallback=function(R,H,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,R){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=K+ie,R={id:A++,callback:H,priorityLevel:R,startTime:K,expirationTime:ie,sortIndex:-1},K>re?(R.sortIndex=K,f(T,R),d(E)===null&&R===d(T)&&(S?r():S=!0,n(B,K-re))):(R.sortIndex=ie,f(E,R),M||N||(M=!0,e(U))),R},t.unstable_wrapCallback=function(R){var H=b;return function(){var K=b;b=H;try{return R.apply(this,arguments)}finally{b=K}}}})(tg);eg.exports=tg;var R0=eg.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Pt,we=Lm,je=R0;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ka)throw Error(z(227));var ng=new Set,ps={};function hr(t,e){Xr(t,e),Xr(t+"Capture",e)}function Xr(t,e){for(ps[t]=e,t=0;t<e.length;t++)ng.add(e[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ah=Object.prototype.hasOwnProperty,uh={},lh={};function D0(t){return ah.call(lh,t)?!0:ah.call(uh,t)?!1:b0.test(t)?lh[t]=!0:(uh[t]=!0,!1)}function N0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M0(t,e,n,r){if(e===null||typeof e>"u"||N0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function pd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hd,pd);Qe[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hd,pd);Qe[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hd,pd);Qe[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function md(t,e,n,r){var i=Qe.hasOwnProperty(e)?Qe[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(M0(e,n,i,r)&&(n=null),r||i===null?D0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=60103,Qn=60106,_n=60107,gd=60108,Xi=60114,_d=60109,vd=60110,Ga=60112,Ji=60113,aa=60120,Qa=60115,yd=60116,wd=60121,Ed=60128,rg=60129,Td=60130,Kl=60131;if(typeof Symbol=="function"&&Symbol.for){var xe=Symbol.for;$i=xe("react.element"),Qn=xe("react.portal"),_n=xe("react.fragment"),gd=xe("react.strict_mode"),Xi=xe("react.profiler"),_d=xe("react.provider"),vd=xe("react.context"),Ga=xe("react.forward_ref"),Ji=xe("react.suspense"),aa=xe("react.suspense_list"),Qa=xe("react.memo"),yd=xe("react.lazy"),wd=xe("react.block"),xe("react.scope"),Ed=xe("react.opaque.id"),rg=xe("react.debug_trace_mode"),Td=xe("react.offscreen"),Kl=xe("react.legacy_hidden")}var ch=typeof Symbol=="function"&&Symbol.iterator;function ki(t){return t===null||typeof t!="object"?null:(t=ch&&t[ch]||t["@@iterator"],typeof t=="function"?t:null)}var el;function Bi(t){if(el===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);el=e&&e[1]||""}return`
`+el+t}var tl=!1;function So(t,e){if(!t||tl)return"";tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{tl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bi(t):""}function V0(t){switch(t.tag){case 5:return Bi(t.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return t=So(t.type,!1),t;case 11:return t=So(t.type.render,!1),t;case 22:return t=So(t.type._render,!1),t;case 1:return t=So(t.type,!0),t;default:return""}}function Lr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _n:return"Fragment";case Qn:return"Portal";case Xi:return"Profiler";case gd:return"StrictMode";case Ji:return"Suspense";case aa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vd:return(t.displayName||"Context")+".Consumer";case _d:return(t._context.displayName||"Context")+".Provider";case Ga:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Qa:return Lr(t.type);case wd:return Lr(t._render);case yd:e=t._payload,t=t._init;try{return Lr(t(e))}catch{}}return null}function Mn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function ig(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O0(t){var e=ig(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ko(t){t._valueTracker||(t._valueTracker=O0(t))}function sg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ig(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gl(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function og(t,e){e=e.checked,e!=null&&md(t,"checked",e,!1)}function Ql(t,e){og(t,e);var n=Mn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yl(t,e.type,Mn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yl(t,e,n){(e!=="number"||ua(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function L0(t){var e="";return Ka.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Xl(t,e){return t=we({children:void 0},e),(e=L0(e.children))&&(t.children=e),t}function xr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mn(n)}}function ag(t,e){var n=Mn(e.value),r=Mn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ph(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Zl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ug(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ec(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ug(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Co,lg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Zl.svg||"innerHTML"in t)t.innerHTML=e;else{for(Co=Co||document.createElement("div"),Co.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Co.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(t){x0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zi[e]=Zi[t]})});function cg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zi.hasOwnProperty(t)&&Zi[t]?(""+e).trim():e+"px"}function dg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var z0=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tc(t,e){if(e){if(z0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function nc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Sd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rc=null,zr=null,jr=null;function mh(t){if(t=Ys(t)){if(typeof rc!="function")throw Error(z(280));var e=t.stateNode;e&&(e=tu(e),rc(t.stateNode,t.type,e))}}function fg(t){zr?jr?jr.push(t):jr=[t]:zr=t}function hg(){if(zr){var t=zr,e=jr;if(jr=zr=null,mh(t),e)for(t=0;t<e.length;t++)mh(e[t])}}function kd(t,e){return t(e)}function pg(t,e,n,r,i){return t(e,n,r,i)}function Cd(){}var mg=kd,Yn=!1,nl=!1;function Id(){(zr!==null||jr!==null)&&(Cd(),hg())}function j0(t,e,n){if(nl)return t(e,n);nl=!0;try{return mg(t,e,n)}finally{nl=!1,Id()}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var ic=!1;if(cn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ic=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ic=!1}function F0(t,e,n,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var es=!1,la=null,ca=!1,sc=null,$0={onError:function(t){es=!0,la=t}};function B0(t,e,n,r,i,s,o,u,l){es=!1,la=null,F0.apply($0,arguments)}function U0(t,e,n,r,i,s,o,u,l){if(B0.apply(this,arguments),es){if(es){var c=la;es=!1,la=null}else throw Error(z(198));ca||(ca=!0,sc=c)}}function mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gh(t){if(mr(t)!==t)throw Error(z(188))}function H0(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gh(i),t;if(s===r)return gh(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function _g(t){if(t=H0(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function _h(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var vg,Ad,yg,wg,oc=!1,Ft=[],Tn=null,Sn=null,kn=null,_s=new Map,vs=new Map,Ii=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function yh(t,e){switch(t){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":_s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(e.pointerId)}}function Ai(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=ac(e,n,r,i,s),e!==null&&(e=Ys(e),e!==null&&Ad(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function q0(t,e,n,r,i){switch(e){case"focusin":return Tn=Ai(Tn,t,e,n,r,i),!0;case"dragenter":return Sn=Ai(Sn,t,e,n,r,i),!0;case"mouseover":return kn=Ai(kn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _s.set(s,Ai(_s.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vs.set(s,Ai(vs.get(s)||null,t,e,n,r,i)),!0}return!1}function W0(t){var e=Xn(t.target);if(e!==null){var n=mr(e);if(n!==null){if(e=n.tag,e===13){if(e=gg(n),e!==null){t.blockedOn=e,wg(t.lanePriority,function(){je.unstable_runWithPriority(t.priority,function(){yg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ko(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Ys(n),e!==null&&Ad(e),t.blockedOn=n,!1;e.shift()}return!0}function wh(t,e,n){Ko(t)&&n.delete(e)}function K0(){for(oc=!1;0<Ft.length;){var t=Ft[0];if(t.blockedOn!==null){t=Ys(t.blockedOn),t!==null&&vg(t);break}for(var e=t.targetContainers;0<e.length;){var n=Dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Ft.shift()}Tn!==null&&Ko(Tn)&&(Tn=null),Sn!==null&&Ko(Sn)&&(Sn=null),kn!==null&&Ko(kn)&&(kn=null),_s.forEach(wh),vs.forEach(wh)}function Pi(t,e){t.blockedOn===e&&(t.blockedOn=null,oc||(oc=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,K0)))}function Eg(t){function e(i){return Pi(i,t)}if(0<Ft.length){Pi(Ft[0],t);for(var n=1;n<Ft.length;n++){var r=Ft[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tn!==null&&Pi(Tn,t),Sn!==null&&Pi(Sn,t),kn!==null&&Pi(kn,t),_s.forEach(e),vs.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)W0(n),n.blockedOn===null&&Ii.shift()}function Io(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ar={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},rl={},Tg={};cn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Ya(t){if(rl[t])return rl[t];if(!Ar[t])return t;var e=Ar[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tg)return rl[t]=e[n];return t}var Sg=Ya("animationend"),kg=Ya("animationiteration"),Cg=Ya("animationstart"),Ig=Ya("transitionend"),Ag=new Map,Pd=new Map,G0=["abort","abort",Sg,"animationEnd",kg,"animationIteration",Cg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ig,"transitionEnd","waiting","waiting"];function Rd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pd.set(r,e),Ag.set(r,i),hr(i,[r])}}var Q0=je.unstable_now;Q0();var he=8;function Tr(t){if(1&t)return he=15,1;if(2&t)return he=14,2;if(4&t)return he=13,4;var e=24&t;return e!==0?(he=12,e):t&32?(he=11,32):(e=192&t,e!==0?(he=10,e):t&256?(he=9,256):(e=3584&t,e!==0?(he=8,e):t&4096?(he=7,4096):(e=4186112&t,e!==0?(he=6,e):(e=62914560&t,e!==0?(he=5,e):t&67108864?(he=4,67108864):t&134217728?(he=3,134217728):(e=805306368&t,e!==0?(he=2,e):1073741824&t?(he=1,1073741824):(he=8,t))))))}function Y0(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function X0(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(z(358,t))}}function ys(t,e){var n=t.pendingLanes;if(n===0)return he=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=he=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=Tr(l),i=he):(u&=s,u!==0&&(r=Tr(u),i=he))}else s=n&~o,s!==0?(r=Tr(s),i=he):u!==0&&(r=Tr(u),i=he);if(r===0)return 0;if(r=31-Vn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(Tr(e),i<=he)return e;he=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function Pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function da(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Sr(24&~e),t===0?da(10,e):t;case 10:return t=Sr(192&~e),t===0?da(8,e):t;case 8:return t=Sr(3584&~e),t===0&&(t=Sr(4186112&~e),t===0&&(t=512)),t;case 2:return e=Sr(805306368&~e),e===0&&(e=268435456),e}throw Error(z(358,t))}function Sr(t){return t&-t}function il(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xa(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Vn(e),t[e]=n}var Vn=Math.clz32?Math.clz32:e1,J0=Math.log,Z0=Math.LN2;function e1(t){return t===0?32:31-(J0(t)/Z0|0)|0}var t1=je.unstable_UserBlockingPriority,n1=je.unstable_runWithPriority,Go=!0;function r1(t,e,n,r){Yn||Cd();var i=bd,s=Yn;Yn=!0;try{pg(i,t,e,n,r)}finally{(Yn=s)||Id()}}function i1(t,e,n,r){n1(t1,bd.bind(null,t,e,n,r))}function bd(t,e,n,r){if(Go){var i;if((i=(e&4)===0)&&0<Ft.length&&-1<vh.indexOf(t))t=ac(null,t,e,n,r),Ft.push(t);else{var s=Dd(t,e,n,r);if(s===null)i&&yh(t,r);else{if(i){if(-1<vh.indexOf(t)){t=ac(s,t,e,n,r),Ft.push(t);return}if(q0(s,t,e,n,r))return;yh(t,r)}$g(t,e,r,null,n)}}}}function Dd(t,e,n,r){var i=Sd(r);if(i=Xn(i),i!==null){var s=mr(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=gg(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return $g(t,e,r,i,n),null}var vn=null,Nd=null,Qo=null;function Rg(){if(Qo)return Qo;var t,e=Nd,n=e.length,r,i="value"in vn?vn.value:vn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qo=i.slice(t,1<r?1-r:void 0)}function Yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function Eh(){return!1}function vt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ao:Eh,this.isPropagationStopped=Eh,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),e}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Md=vt(fi),Qs=we({},fi,{view:0,detail:0}),s1=vt(Qs),sl,ol,Ri,Ja=we({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(sl=t.screenX-Ri.screenX,ol=t.screenY-Ri.screenY):ol=sl=0,Ri=t),sl)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),Th=vt(Ja),o1=we({},Ja,{dataTransfer:0}),a1=vt(o1),u1=we({},Qs,{relatedTarget:0}),al=vt(u1),l1=we({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),c1=vt(l1),d1=we({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),f1=vt(d1),h1=we({},fi,{data:0}),Sh=vt(h1),p1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g1[t])?!!e[t]:!1}function Vd(){return _1}var v1=we({},Qs,{key:function(t){if(t.key){var e=p1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(t){return t.type==="keypress"?Yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y1=vt(v1),w1=we({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=vt(w1),E1=we({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),T1=vt(E1),S1=we({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k1=vt(S1),C1=we({},Ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=vt(C1),A1=[9,13,27,32],Od=cn&&"CompositionEvent"in window,ts=null;cn&&"documentMode"in document&&(ts=document.documentMode);var P1=cn&&"TextEvent"in window&&!ts,bg=cn&&(!Od||ts&&8<ts&&11>=ts),Ch=" ",Ih=!1;function Dg(t,e){switch(t){case"keyup":return A1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ng(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function R1(t,e){switch(t){case"compositionend":return Ng(e);case"keypress":return e.which!==32?null:(Ih=!0,Ch);case"textInput":return t=e.data,t===Ch&&Ih?null:t;default:return null}}function b1(t,e){if(Pr)return t==="compositionend"||!Od&&Dg(t,e)?(t=Rg(),Qo=Nd=vn=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bg&&e.locale!=="ko"?null:e.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D1[t.type]:e==="textarea"}function Mg(t,e,n,r){fg(r),e=fa(e,"onChange"),0<e.length&&(n=new Md("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ns=null,ws=null;function N1(t){zg(t,0)}function Za(t){var e=br(t);if(sg(e))return t}function M1(t,e){if(t==="change")return e}var Vg=!1;if(cn){var ul;if(cn){var ll="oninput"in document;if(!ll){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),ll=typeof Ph.oninput=="function"}ul=ll}else ul=!1;Vg=ul&&(!document.documentMode||9<document.documentMode)}function Rh(){ns&&(ns.detachEvent("onpropertychange",Og),ws=ns=null)}function Og(t){if(t.propertyName==="value"&&Za(ws)){var e=[];if(Mg(e,ws,t,Sd(t)),t=N1,Yn)t(e);else{Yn=!0;try{kd(t,e)}finally{Yn=!1,Id()}}}}function V1(t,e,n){t==="focusin"?(Rh(),ns=e,ws=n,ns.attachEvent("onpropertychange",Og)):t==="focusout"&&Rh()}function O1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Za(ws)}function L1(t,e){if(t==="click")return Za(e)}function x1(t,e){if(t==="input"||t==="change")return Za(e)}function z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:z1,j1=Object.prototype.hasOwnProperty;function Es(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!j1.call(e,n[r])||!wt(t[n[r]],e[n[r]]))return!1;return!0}function bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dh(t,e){var n=bh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bh(n)}}function Lg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nh(){for(var t=window,e=ua();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ua(t.document)}return e}function uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var F1=cn&&"documentMode"in document&&11>=document.documentMode,Rr=null,lc=null,rs=null,cc=!1;function Mh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||Rr==null||Rr!==ua(r)||(r=Rr,"selectionStart"in r&&uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rs&&Es(rs,r)||(rs=r,r=fa(lc,"onSelect"),0<r.length&&(e=new Md("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rr)))}Rd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Rd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Rd(G0,2);for(var Vh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),cl=0;cl<Vh.length;cl++)Pd.set(Vh[cl],0);Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Oh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U0(r,e,void 0,t),t.currentTarget=null}function zg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;Oh(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;Oh(i,u,c),s=l}}}if(ca)throw t=sc,ca=!1,sc=null,t}function ge(t,e){var n=Ug(e),r=t+"__bubble";n.has(r)||(Fg(e,t,2,!1),n.add(r))}var Lh="_reactListening"+Math.random().toString(36).slice(2);function jg(t){t[Lh]||(t[Lh]=!0,ng.forEach(function(e){xg.has(e)||xh(e,!1,t,null),xh(e,!0,t,null)}))}function xh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&xg.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=Ug(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),Fg(s,t,i,e),o.add(u))}function Fg(t,e,n,r){var i=Pd.get(e);switch(i===void 0?2:i){case 0:i=r1;break;case 1:i=i1;break;default:i=bd}n=i.bind(null,e,n,t),i=void 0,!ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $g(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Xn(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}j0(function(){var c=s,h=Sd(n),v=[];e:{var y=Ag.get(t);if(y!==void 0){var I=Md,P=t;switch(t){case"keypress":if(Yo(n)===0)break e;case"keydown":case"keyup":I=y1;break;case"focusin":P="focus",I=al;break;case"focusout":P="blur",I=al;break;case"beforeblur":case"afterblur":I=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=a1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=T1;break;case Sg:case kg:case Cg:I=c1;break;case Ig:I=k1;break;case"scroll":I=s1;break;case"wheel":I=I1;break;case"copy":case"cut":case"paste":I=f1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=kh}var C=(e&4)!==0,g=!C&&t==="scroll",m=C?y!==null?y+"Capture":null:y;C=[];for(var _=c,k;_!==null;){k=_;var a=k.stateNode;if(k.tag===5&&a!==null&&(k=a,m!==null&&(a=gs(_,m),a!=null&&C.push(Ts(_,a,k)))),g)break;_=_.return}0<C.length&&(y=new I(y,P,null,n,h),v.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",y&&!(e&16)&&(P=n.relatedTarget||n.fromElement)&&(Xn(P)||P[hi]))break e;if((I||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,I?(P=n.relatedTarget||n.toElement,I=c,P=P?Xn(P):null,P!==null&&(g=mr(P),P!==g||P.tag!==5&&P.tag!==6)&&(P=null)):(I=null,P=c),I!==P)){if(C=Th,a="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(C=kh,a="onPointerLeave",m="onPointerEnter",_="pointer"),g=I==null?y:br(I),k=P==null?y:br(P),y=new C(a,_+"leave",I,n,h),y.target=g,y.relatedTarget=k,a=null,Xn(h)===c&&(C=new C(m,_+"enter",P,n,h),C.target=k,C.relatedTarget=g,a=C),g=a,I&&P)t:{for(C=I,m=P,_=0,k=C;k;k=wr(k))_++;for(k=0,a=m;a;a=wr(a))k++;for(;0<_-k;)C=wr(C),_--;for(;0<k-_;)m=wr(m),k--;for(;_--;){if(C===m||m!==null&&C===m.alternate)break t;C=wr(C),m=wr(m)}C=null}else C=null;I!==null&&zh(v,y,I,C,!1),P!==null&&g!==null&&zh(v,g,P,C,!0)}}e:{if(y=c?br(c):window,I=y.nodeName&&y.nodeName.toLowerCase(),I==="select"||I==="input"&&y.type==="file")var f=M1;else if(Ah(y))if(Vg)f=x1;else{f=O1;var d=V1}else(I=y.nodeName)&&I.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(f=L1);if(f&&(f=f(t,c))){Mg(v,f,n,h);break e}d&&d(t,y,c),t==="focusout"&&(d=y._wrapperState)&&d.controlled&&y.type==="number"&&Yl(y,"number",y.value)}switch(d=c?br(c):window,t){case"focusin":(Ah(d)||d.contentEditable==="true")&&(Rr=d,lc=c,rs=null);break;case"focusout":rs=lc=Rr=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Mh(v,n,h);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":Mh(v,n,h)}var p;if(Od)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pr?Dg(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(bg&&n.locale!=="ko"&&(Pr||w!=="onCompositionStart"?w==="onCompositionEnd"&&Pr&&(p=Rg()):(vn=h,Nd="value"in vn?vn.value:vn.textContent,Pr=!0)),d=fa(c,w),0<d.length&&(w=new Sh(w,t,null,n,h),v.push({event:w,listeners:d}),p?w.data=p:(p=Ng(n),p!==null&&(w.data=p)))),(p=P1?R1(t,n):b1(t,n))&&(c=fa(c,"onBeforeInput"),0<c.length&&(h=new Sh("onBeforeInput","beforeinput",null,n,h),v.push({event:h,listeners:c}),h.data=p))}zg(v,e)})}function Ts(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gs(t,n),s!=null&&r.unshift(Ts(t,s,i)),s=gs(t,e),s!=null&&r.push(Ts(t,s,i))),t=t.return}return r}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=gs(n,s),l!=null&&o.unshift(Ts(n,l,u))):i||(l=gs(n,s),l!=null&&o.push(Ts(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function ha(){}var dl=null,fl=null;function Bg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function dc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0;function Ld(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Fh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=0;function B1(t){return{$$typeof:Ed,toString:t,valueOf:t}}var eu=Math.random().toString(36).slice(2),yn="__reactFiber$"+eu,pa="__reactProps$"+eu,hi="__reactContainer$"+eu,$h="__reactEvents$"+eu;function Xn(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fh(t);t!==null;){if(n=t[yn])return n;t=Fh(t)}return e}t=n,n=t.parentNode}return null}function Ys(t){return t=t[yn]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function tu(t){return t[pa]||null}function Ug(t){var e=t[$h];return e===void 0&&(e=t[$h]=new Set),e}var fc=[],Dr=-1;function $n(t){return{current:t}}function ve(t){0>Dr||(t.current=fc[Dr],fc[Dr]=null,Dr--)}function Ce(t,e){Dr++,fc[Dr]=t.current,t.current=e}var On={},st=$n(On),ft=$n(!1),or=On;function Jr(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ht(t){return t=t.childContextTypes,t!=null}function ma(){ve(ft),ve(st)}function Bh(t,e,n){if(st.current!==On)throw Error(z(168));Ce(st,e),Ce(ft,n)}function Hg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,Lr(e)||"Unknown",i));return we({},n,r)}function Xo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,or=st.current,Ce(st,t),Ce(ft,ft.current),!0}function Uh(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Hg(t,e,or),r.__reactInternalMemoizedMergedChildContext=t,ve(ft),ve(st),Ce(st,t)):ve(ft),Ce(ft,n)}var xd=null,rr=null,U1=je.unstable_runWithPriority,zd=je.unstable_scheduleCallback,hc=je.unstable_cancelCallback,H1=je.unstable_shouldYield,Hh=je.unstable_requestPaint,pc=je.unstable_now,q1=je.unstable_getCurrentPriorityLevel,nu=je.unstable_ImmediatePriority,qg=je.unstable_UserBlockingPriority,Wg=je.unstable_NormalPriority,Kg=je.unstable_LowPriority,Gg=je.unstable_IdlePriority,pl={},W1=Hh!==void 0?Hh:function(){},rn=null,Jo=null,ml=!1,qh=pc(),tt=1e4>qh?pc:function(){return pc()-qh};function Zr(){switch(q1()){case nu:return 99;case qg:return 98;case Wg:return 97;case Kg:return 96;case Gg:return 95;default:throw Error(z(332))}}function Qg(t){switch(t){case 99:return nu;case 98:return qg;case 97:return Wg;case 96:return Kg;case 95:return Gg;default:throw Error(z(332))}}function ar(t,e){return t=Qg(t),U1(t,e)}function Ss(t,e,n){return t=Qg(t),zd(t,e,n)}function Zt(){if(Jo!==null){var t=Jo;Jo=null,hc(t)}Yg()}function Yg(){if(!ml&&rn!==null){ml=!0;var t=0;try{var e=rn;ar(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),rn=null}catch(n){throw rn!==null&&(rn=rn.slice(t+1)),zd(nu,Zt),n}finally{ml=!1}}}var K1=pr.ReactCurrentBatchConfig;function Ot(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ga=$n(null),_a=null,Nr=null,va=null;function jd(){va=Nr=_a=null}function Fd(t){var e=ga.current;ve(ga),t.type._context._currentValue=e}function Xg(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function $r(t,e){_a=t,va=Nr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function It(t,e){if(va!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(va=t,e=1073741823),e={context:t,observedBits:e,next:null},Nr===null){if(_a===null)throw Error(z(308));Nr=e,_a.dependencies={lanes:0,firstContext:e,responders:null}}else Nr=Nr.next=e;return t._currentValue}var gn=!1;function $d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Jg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Wh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ks(t,e,n,r){var i=t.updateQueue;gn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var v=h.lastBaseUpdate;v!==o&&(v===null?h.firstBaseUpdate=c:v.next=c,h.lastBaseUpdate=l)}}if(s!==null){v=i.baseState,o=0,h=c=l=null;do{u=s.lane;var y=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var I=t,P=s;switch(u=e,y=n,P.tag){case 1:if(I=P.payload,typeof I=="function"){v=I.call(y,v,u);break e}v=I;break e;case 3:I.flags=I.flags&-4097|64;case 0:if(I=P.payload,u=typeof I=="function"?I.call(y,v,u):I,u==null)break e;v=we({},v,u);break e;case 2:gn=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else y={eventTime:y,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=y,l=v):h=h.next=y,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);h===null&&(l=v),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,Js|=o,t.lanes=o,t.memoizedState=v}}function Kh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Zg=new Ka.Component().refs;function ya(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ru={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=An(t),s=Cn(r,i);s.payload=e,n!=null&&(s.callback=n),In(t,s),Pn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=An(t),s=Cn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),In(t,s),Pn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=An(t),i=Cn(n,r);i.tag=2,e!=null&&(i.callback=e),In(t,i),Pn(t,r,n)}};function Gh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Es(n,r)||!Es(i,s):!0}function e_(t,e,n){var r=!1,i=On,s=e.contextType;return typeof s=="object"&&s!==null?s=It(s):(i=ht(e)?or:st.current,r=e.contextTypes,s=(r=r!=null)?Jr(t,i):On),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ru,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ru.enqueueReplaceState(e,e.state,null)}function mc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Zg,$d(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=It(s):(s=ht(e)?or:st.current,i.context=Jr(t,s)),ks(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ya(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ru.enqueueReplaceState(i,i.state,null),ks(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Po=Array.isArray;function bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Zg&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ro(t,e){if(t.type!=="textarea")throw Error(z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function t_(t){function e(g,m){if(t){var _=g.lastEffect;_!==null?(_.nextEffect=m,g.lastEffect=m):g.firstEffect=g.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=xn(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags=2,m):_):(g.flags=2,m)):m}function o(g){return t&&g.alternate===null&&(g.flags=2),g}function u(g,m,_,k){return m===null||m.tag!==6?(m=wl(_,g.mode,k),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,k){return m!==null&&m.elementType===_.type?(k=i(m,_.props),k.ref=bi(g,m,_),k.return=g,k):(k=na(_.type,_.key,_.props,null,g.mode,k),k.ref=bi(g,m,_),k.return=g,k)}function c(g,m,_,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=El(_,g.mode,k),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function h(g,m,_,k,a){return m===null||m.tag!==7?(m=qr(_,g.mode,k,a),m.return=g,m):(m=i(m,_),m.return=g,m)}function v(g,m,_){if(typeof m=="string"||typeof m=="number")return m=wl(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $i:return _=na(m.type,m.key,m.props,null,g.mode,_),_.ref=bi(g,null,m),_.return=g,_;case Qn:return m=El(m,g.mode,_),m.return=g,m}if(Po(m)||ki(m))return m=qr(m,g.mode,_,null),m.return=g,m;Ro(g,m)}return null}function y(g,m,_,k){var a=m!==null?m.key:null;if(typeof _=="string"||typeof _=="number")return a!==null?null:u(g,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $i:return _.key===a?_.type===_n?h(g,m,_.props.children,k,a):l(g,m,_,k):null;case Qn:return _.key===a?c(g,m,_,k):null}if(Po(_)||ki(_))return a!==null?null:h(g,m,_,k,null);Ro(g,_)}return null}function I(g,m,_,k,a){if(typeof k=="string"||typeof k=="number")return g=g.get(_)||null,u(m,g,""+k,a);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $i:return g=g.get(k.key===null?_:k.key)||null,k.type===_n?h(m,g,k.props.children,a,k.key):l(m,g,k,a);case Qn:return g=g.get(k.key===null?_:k.key)||null,c(m,g,k,a)}if(Po(k)||ki(k))return g=g.get(_)||null,h(m,g,k,a,null);Ro(m,k)}return null}function P(g,m,_,k){for(var a=null,f=null,d=m,p=m=0,w=null;d!==null&&p<_.length;p++){d.index>p?(w=d,d=null):w=d.sibling;var E=y(g,d,_[p],k);if(E===null){d===null&&(d=w);break}t&&d&&E.alternate===null&&e(g,d),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E,d=w}if(p===_.length)return n(g,d),a;if(d===null){for(;p<_.length;p++)d=v(g,_[p],k),d!==null&&(m=s(d,m,p),f===null?a=d:f.sibling=d,f=d);return a}for(d=r(g,d);p<_.length;p++)w=I(d,g,p,_[p],k),w!==null&&(t&&w.alternate!==null&&d.delete(w.key===null?p:w.key),m=s(w,m,p),f===null?a=w:f.sibling=w,f=w);return t&&d.forEach(function(T){return e(g,T)}),a}function C(g,m,_,k){var a=ki(_);if(typeof a!="function")throw Error(z(150));if(_=a.call(_),_==null)throw Error(z(151));for(var f=a=null,d=m,p=m=0,w=null,E=_.next();d!==null&&!E.done;p++,E=_.next()){d.index>p?(w=d,d=null):w=d.sibling;var T=y(g,d,E.value,k);if(T===null){d===null&&(d=w);break}t&&d&&T.alternate===null&&e(g,d),m=s(T,m,p),f===null?a=T:f.sibling=T,f=T,d=w}if(E.done)return n(g,d),a;if(d===null){for(;!E.done;p++,E=_.next())E=v(g,E.value,k),E!==null&&(m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return a}for(d=r(g,d);!E.done;p++,E=_.next())E=I(d,g,p,E.value,k),E!==null&&(t&&E.alternate!==null&&d.delete(E.key===null?p:E.key),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return t&&d.forEach(function(A){return e(g,A)}),a}return function(g,m,_,k){var a=typeof _=="object"&&_!==null&&_.type===_n&&_.key===null;a&&(_=_.props.children);var f=typeof _=="object"&&_!==null;if(f)switch(_.$$typeof){case $i:e:{for(f=_.key,a=m;a!==null;){if(a.key===f){switch(a.tag){case 7:if(_.type===_n){n(g,a.sibling),m=i(a,_.props.children),m.return=g,g=m;break e}break;default:if(a.elementType===_.type){n(g,a.sibling),m=i(a,_.props),m.ref=bi(g,a,_),m.return=g,g=m;break e}}n(g,a);break}else e(g,a);a=a.sibling}_.type===_n?(m=qr(_.props.children,g.mode,k,_.key),m.return=g,g=m):(k=na(_.type,_.key,_.props,null,g.mode,k),k.ref=bi(g,m,_),k.return=g,g=k)}return o(g);case Qn:e:{for(a=_.key;m!==null;){if(m.key===a)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=El(_,g.mode,k),m.return=g,g=m}return o(g)}if(typeof _=="string"||typeof _=="number")return _=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=wl(_,g.mode,k),m.return=g,g=m),o(g);if(Po(_))return P(g,m,_,k);if(ki(_))return C(g,m,_,k);if(f&&Ro(g,_),typeof _>"u"&&!a)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(z(152,Lr(g.type)||"Component"))}return n(g,m)}}var wa=t_(!0),n_=t_(!1),Xs={},qt=$n(Xs),Cs=$n(Xs),Is=$n(Xs);function Jn(t){if(t===Xs)throw Error(z(174));return t}function gc(t,e){switch(Ce(Is,e),Ce(Cs,t),Ce(qt,Xs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ec(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ec(e,t)}ve(qt),Ce(qt,e)}function ei(){ve(qt),ve(Cs),ve(Is)}function Yh(t){Jn(Is.current);var e=Jn(qt.current),n=ec(e,t.type);e!==n&&(Ce(Cs,t),Ce(qt,n))}function Bd(t){Cs.current===t&&(ve(qt),ve(Cs))}var ke=$n(0);function Ea(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var on=null,wn=null,Wt=!1;function r_(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function _c(t){if(Wt){var e=wn;if(e){var n=e;if(!Xh(t,e)){if(e=Fr(n.nextSibling),!e||!Xh(t,e)){t.flags=t.flags&-1025|2,Wt=!1,on=t;return}r_(on,n)}on=t,wn=Fr(e.firstChild)}else t.flags=t.flags&-1025|2,Wt=!1,on=t}}function Jh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function bo(t){if(t!==on)return!1;if(!Wt)return Jh(t),Wt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!dc(e,t.memoizedProps))for(e=wn;e;)r_(t,e),e=Fr(e.nextSibling);if(Jh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=on?Fr(t.stateNode.nextSibling):null;return!0}function gl(){wn=on=null,Wt=!1}var Br=[];function Ud(){for(var t=0;t<Br.length;t++)Br[t]._workInProgressVersionPrimary=null;Br.length=0}var is=pr.ReactCurrentDispatcher,kt=pr.ReactCurrentBatchConfig,As=0,Re=null,Je=null,Be=null,Ta=!1,ss=!1;function ct(){throw Error(z(321))}function Hd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wt(t[n],e[n]))return!1;return!0}function qd(t,e,n,r,i,s){if(As=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,is.current=t===null||t.memoizedState===null?Q1:Y1,t=n(r,i),ss){s=0;do{if(ss=!1,!(25>s))throw Error(z(301));s+=1,Be=Je=null,e.updateQueue=null,is.current=X1,t=n(r,i)}while(ss)}if(is.current=Ia,e=Je!==null&&Je.next!==null,As=0,Be=Je=Re=null,Ta=!1,e)throw Error(z(300));return t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Re.memoizedState=Be=t:Be=Be.next=t,Be}function gr(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=Be===null?Re.memoizedState:Be.next;if(e!==null)Be=e,Je=t;else{if(t===null)throw Error(z(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Be===null?Re.memoizedState=Be=t:Be=Be.next=t}return Be}function $t(t,e){return typeof e=="function"?e(t):e}function Di(t){var e=gr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var c=l.lane;if((As&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Re.lanes|=c,Js|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,wt(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Ni(t){var e=gr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wt(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Zh(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(As&t)===t)&&(e._workInProgressVersionPrimary=r,Br.push(e))),t)return n(e._source);throw Br.push(e),Error(z(350))}function i_(t,e,n,r){var i=ut;if(i===null)throw Error(z(349));var s=e._getVersion,o=s(e._source),u=is.current,l=u.useState(function(){return Zh(i,e,n)}),c=l[1],h=l[0];l=Be;var v=t.memoizedState,y=v.refs,I=y.getSnapshot,P=v.source;v=v.subscribe;var C=Re;return t.memoizedState={refs:y,source:e,subscribe:r},u.useEffect(function(){y.getSnapshot=n,y.setSnapshot=c;var g=s(e._source);if(!wt(o,g)){g=n(e._source),wt(h,g)||(c(g),g=An(C),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var m=i.entanglements,_=g;0<_;){var k=31-Vn(_),a=1<<k;m[k]|=g,_&=~a}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var g=y.getSnapshot,m=y.setSnapshot;try{m(g(e._source));var _=An(C);i.mutableReadLanes|=_&i.pendingLanes}catch(k){m(function(){throw k})}})},[e,r]),wt(I,n)&&wt(P,e)&&wt(v,r)||(t={pending:null,dispatch:null,lastRenderedReducer:$t,lastRenderedState:h},t.dispatch=c=Gd.bind(null,Re,t),l.queue=t,l.baseQueue=null,h=Zh(i,e,n),l.memoizedState=l.baseState=h),h}function s_(t,e,n){var r=gr();return i_(r,t,e,n)}function Mi(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},t=t.dispatch=Gd.bind(null,Re,t),[e.memoizedState,t]}function Sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ep(t){var e=Zn();return t={current:t},e.memoizedState=t}function ka(){return gr().memoizedState}function vc(t,e,n,r){var i=Zn();Re.flags|=t,i.memoizedState=Sa(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&Hd(r,o.deps)){Sa(e,n,s,r);return}}Re.flags|=t,i.memoizedState=Sa(1|e,n,s,r)}function tp(t,e){return vc(516,4,t,e)}function Ca(t,e){return Wd(516,4,t,e)}function o_(t,e){return Wd(4,2,t,e)}function a_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u_(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,2,a_.bind(null,e,t),n)}function Kd(){}function l_(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c_(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function G1(t,e){var n=Zr();ar(98>n?98:n,function(){t(!0)}),ar(97<n?97:n,function(){var r=kt.transition;kt.transition=1;try{t(!1),e()}finally{kt.transition=r}})}function Gd(t,e,n){var r=gt(),i=An(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Re||o!==null&&o===Re)ss=Ta=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,n);if(s.eagerReducer=o,s.eagerState=l,wt(l,u))return}catch{}finally{}Pn(t,i,r)}}var Ia={readContext:It,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useOpaqueIdentifier:ct,unstable_isNewReconciler:!1},Q1={readContext:It,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:tp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vc(4,2,a_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Gd.bind(null,Re,t),[r.memoizedState,t]},useRef:ep,useState:Mi,useDebugValue:Kd,useDeferredValue:function(t){var e=Mi(t),n=e[0],r=e[1];return tp(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Mi(!1),e=t[0];return t=G1.bind(null,t[1]),ep(t),[t,e]},useMutableSource:function(t,e,n){var r=Zn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},i_(r,t,e,n)},useOpaqueIdentifier:function(){if(Wt){var t=!1,e=B1(function(){throw t||(t=!0,n("r:"+(hl++).toString(36))),Error(z(355))}),n=Mi(e)[1];return!(Re.mode&2)&&(Re.flags|=516,Sa(5,function(){n("r:"+(hl++).toString(36))},void 0,null)),e}return e="r:"+(hl++).toString(36),Mi(e),e},unstable_isNewReconciler:!1},Y1={readContext:It,useCallback:l_,useContext:It,useEffect:Ca,useImperativeHandle:u_,useLayoutEffect:o_,useMemo:c_,useReducer:Di,useRef:ka,useState:function(){return Di($t)},useDebugValue:Kd,useDeferredValue:function(t){var e=Di($t),n=e[0],r=e[1];return Ca(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Di($t)[0];return[ka().current,t]},useMutableSource:s_,useOpaqueIdentifier:function(){return Di($t)[0]},unstable_isNewReconciler:!1},X1={readContext:It,useCallback:l_,useContext:It,useEffect:Ca,useImperativeHandle:u_,useLayoutEffect:o_,useMemo:c_,useReducer:Ni,useRef:ka,useState:function(){return Ni($t)},useDebugValue:Kd,useDeferredValue:function(t){var e=Ni($t),n=e[0],r=e[1];return Ca(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Ni($t)[0];return[ka().current,t]},useMutableSource:s_,useOpaqueIdentifier:function(){return Ni($t)[0]},unstable_isNewReconciler:!1},J1=pr.ReactCurrentOwner,Lt=!1;function dt(t,e,n,r){e.child=t===null?n_(e,null,n,r):wa(e,t.child,n,r)}function np(t,e,n,r,i){n=n.render;var s=e.ref;return $r(e,i),r=qd(t,e,n,r,s,i),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,an(t,e,i)):(e.flags|=1,dt(t,e,r,i),e.child)}function rp(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!ef(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,d_(t,e,o,r,i,s)):(t=na(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Es,n(i,r)&&t.ref===e.ref)?an(t,e,s):(e.flags|=1,t=xn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function d_(t,e,n,r,i,s){if(t!==null&&Es(t.memoizedProps,r)&&t.ref===e.ref)if(Lt=!1,(s&i)!==0)t.flags&16384&&(Lt=!0);else return e.lanes=t.lanes,an(t,e,s);return yc(t,e,n,r,s)}function _l(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},No(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},No(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},No(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,No(e,r);return dt(t,e,i,n),e.child}function f_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function yc(t,e,n,r,i){var s=ht(n)?or:st.current;return s=Jr(e,s),$r(e,i),n=qd(t,e,n,r,s,i),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,an(t,e,i)):(e.flags|=1,dt(t,e,n,i),e.child)}function ip(t,e,n,r,i){if(ht(n)){var s=!0;Xo(e)}else s=!1;if($r(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e_(e,n,r),mc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=It(c):(c=ht(n)?or:st.current,c=Jr(e,c));var h=n.getDerivedStateFromProps,v=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&Qh(e,o,r,c),gn=!1;var y=e.memoizedState;o.state=y,ks(e,r,o,i),l=e.memoizedState,u!==r||y!==l||ft.current||gn?(typeof h=="function"&&(ya(e,n,h,r),l=e.memoizedState),(u=gn||Gh(e,n,u,r,y,l,c))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Jg(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Ot(e.type,u),o.props=c,v=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=It(l):(l=ht(n)?or:st.current,l=Jr(e,l));var I=n.getDerivedStateFromProps;(h=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==v||y!==l)&&Qh(e,o,r,l),gn=!1,y=e.memoizedState,o.state=y,ks(e,r,o,i);var P=e.memoizedState;u!==v||y!==P||ft.current||gn?(typeof I=="function"&&(ya(e,n,I,r),P=e.memoizedState),(c=gn||Gh(e,n,c,r,y,P,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),r=!1)}return wc(t,e,n,r,s,i)}function wc(t,e,n,r,i,s){f_(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Uh(e,n,!1),an(t,e,s);r=e.stateNode,J1.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wa(e,t.child,null,s),e.child=wa(e,null,u,s)):dt(t,e,u,s),e.memoizedState=r.state,i&&Uh(e,n,!0),e.child}function sp(t){var e=t.stateNode;e.pendingContext?Bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bh(t,e.context,!1),gc(t,e.containerInfo)}var Do={dehydrated:null,retryLane:0};function op(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Ce(ke,i&1),t===null?(r.fallback!==void 0&&_c(e),t=r.children,i=r.fallback,s?(t=ap(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Do,t):typeof r.unstable_expectedLoadTime=="number"?(t=ap(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Do,e.lanes=33554432,t):(n=tf({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=lp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Do,r):(n=up(t,e,r.children,n),e.memoizedState=null,n):s?(r=lp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Do,r):(n=up(t,e,r.children,n),e.memoizedState=null,n)}function ap(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=tf(e,i,0,null),n=qr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function up(t,e,n,r){var i=t.child;return t=i.sibling,n=xn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function lp(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=xn(o,u),t!==null?r=xn(t,r):(r=qr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function cp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Xg(t.return,e)}function vl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function dp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cp(t,n);else if(t.tag===19)cp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(ke,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ea(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ea(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vl(e,!0,n,null,s,e.lastEffect);break;case"together":vl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var h_,Ec,p_,m_;h_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ec=function(){};p_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jn(qt.current);var s=null;switch(n){case"input":i=Gl(t,i),r=Gl(t,r),s=[];break;case"option":i=Xl(t,i),r=Xl(t,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=Jl(t,i),r=Jl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ha)}tc(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ps.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ps.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ge("scroll",t),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===Ed?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};m_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vi(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Z1(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ht(e.type)&&ma(),null;case 3:return ei(),ve(ft),ve(st),Ud(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Ec(e),null;case 5:Bd(e);var i=Jn(Is.current);if(n=e.type,t!==null&&e.stateNode!=null)p_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(z(166));return null}if(t=Jn(qt.current),bo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yn]=e,r[pa]=s,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(t=0;t<Ui.length;t++)ge(Ui[t],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":dh(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":hh(r,s),ge("invalid",r)}tc(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ps.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ge("scroll",r));switch(n){case"input":ko(r),fh(r,s,!0);break;case"textarea":ko(r),ph(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ha)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Zl.html&&(t=ug(n)),t===Zl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[pa]=r,h_(t,e,!1,!1),e.stateNode=t,o=nc(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ui.length;i++)ge(Ui[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":dh(t,r),i=Gl(t,r),ge("invalid",t);break;case"option":i=Xl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),ge("invalid",t);break;case"textarea":hh(t,r),i=Jl(t,r),ge("invalid",t);break;default:i=r}tc(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?dg(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ms(t,l):typeof l=="number"&&ms(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ps.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ge("scroll",t):l!=null&&md(t,s,l,o))}switch(n){case"input":ko(t),fh(t,r,!1);break;case"textarea":ko(t),ph(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xr(t,!!r.multiple,s,!1):r.defaultValue!=null&&xr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ha)}Bg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)m_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));n=Jn(Is.current),Jn(qt.current),bo(e)?(r=e.stateNode,n=e.memoizedProps,r[yn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r)}return null;case 13:return ve(ke),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&bo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||ke.current&1?He===0&&(He=3):((He===0||He===3)&&(He=4),ut===null||!(Js&134217727)&&!(mi&134217727)||Ur(ut,nt))),(r||n)&&(e.flags|=4),null);case 4:return ei(),Ec(e),t===null&&jg(e.stateNode.containerInfo),null;case 10:return Fd(e),null;case 17:return ht(e.type)&&ma(),null;case 19:if(ve(ke),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Vi(r,!1);else{if(He!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Ea(t),o!==null){for(e.flags|=64,Vi(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(ke,ke.current&1|2),e.child}t=t.sibling}r.tail!==null&&tt()>Ac&&(e.flags|=64,s=!0,Vi(r,!1),e.lanes=33554432)}else{if(!s)if(t=Ea(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Wt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*tt()-r.renderingStartTime>Ac&&n!==1073741824&&(e.flags|=64,s=!0,Vi(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=tt(),n.sibling=null,e=ke.current,Ce(ke,s?e&1|2:e&1),n):null;case 23:case 24:return Zd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(z(156,e.tag))}function ew(t){switch(t.tag){case 1:ht(t.type)&&ma();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ei(),ve(ft),ve(st),Ud(),e=t.flags,e&64)throw Error(z(285));return t.flags=e&-4097|64,t;case 5:return Bd(t),null;case 13:return ve(ke),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ve(ke),null;case 4:return ei(),null;case 10:return Fd(t),null;case 23:case 24:return Zd(),null;default:return null}}function Qd(t,e){try{var n="",r=e;do n+=V0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tw=typeof WeakMap=="function"?WeakMap:Map;function g_(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pa||(Pa=!0,Pc=r),Tc(t,e)},n}function __(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return Tc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this),Tc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var nw=typeof WeakSet=="function"?WeakSet:Set;function fp(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Rn(t,n)}else e.current=null}function rw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Ot(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Ld(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(z(163))}function iw(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(I_(n,t),fw(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ot(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Kh(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Kh(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Bg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Eg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(z(163))}function hp(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=cg("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pp(t,e){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(xd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)I_(e,n);else{r=e;try{i()}catch(s){Rn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(fp(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Rn(e,s)}break;case 5:fp(e);break;case 4:v_(t,e)}}function mp(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function gp(t){return t.tag===5||t.tag===3||t.tag===4}function _p(t){e:{for(var e=t.return;e!==null;){if(gp(e))break e;e=e.return}throw Error(z(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(z(161))}n.flags&16&&(ms(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||gp(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Sc(t,n,e):kc(t,n,e)}function Sc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ha));else if(r!==4&&(t=t.child,t!==null))for(Sc(t,e,n),t=t.sibling;t!==null;)Sc(t,e,n),t=t.sibling}function kc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kc(t,e,n),t=t.sibling;t!==null;)kc(t,e,n),t=t.sibling}function v_(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(z(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,l=u;;)if(pp(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(pp(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function yl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[pa]=r,t==="input"&&r.type==="radio"&&r.name!=null&&og(n,r),nc(t,i),e=nc(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?dg(n,u):o==="dangerouslySetInnerHTML"?lg(n,u):o==="children"?ms(n,u):md(n,o,u,e)}switch(t){case"input":Ql(n,r);break;case"textarea":ag(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?xr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?xr(n,!!r.multiple,r.defaultValue,!0):xr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Eg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Jd=tt(),hp(e.child,!0)),vp(e);return;case 19:vp(e);return;case 17:return;case 23:case 24:hp(e,e.memoizedState!==null);return}throw Error(z(163))}function vp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nw),e.forEach(function(r){var i=mw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var ow=Math.ceil,Aa=pr.ReactCurrentDispatcher,Yd=pr.ReactCurrentOwner,X=0,ut=null,Oe=null,nt=0,ur=0,Cc=$n(0),He=0,iu=null,pi=0,Js=0,mi=0,Xd=0,Ic=null,Jd=0,Ac=1/0;function gi(){Ac=tt()+500}var q=null,Pa=!1,Pc=null,Bt=null,Ln=!1,os=null,Hi=90,Rc=[],bc=[],ln=null,as=0,Dc=null,Zo=-1,sn=0,ea=0,us=null,ta=!1;function gt(){return X&48?tt():Zo!==-1?Zo:Zo=tt()}function An(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Zr()===99?1:2;if(sn===0&&(sn=pi),K1.transition!==0){ea!==0&&(ea=Ic!==null?Ic.pendingLanes:0),t=sn;var e=4186112&~ea;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Zr(),X&4&&t===98?t=da(12,sn):(t=Y0(t),t=da(t,sn)),t}function Pn(t,e,n){if(50<as)throw as=0,Dc=null,Error(z(185));if(t=su(t,e),t===null)return null;Xa(t,e,n),t===ut&&(mi|=e,He===4&&Ur(t,nt));var r=Zr();e===1?X&8&&!(X&48)?Nc(t):(At(t,n),X===0&&(gi(),Zt())):(!(X&4)||r!==98&&r!==99||(ln===null?ln=new Set([t]):ln.add(t)),At(t,n)),Ic=t}function su(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function At(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-Vn(o),l=1<<u,c=s[u];if(c===-1){if(!(l&r)||l&i){c=e,Tr(l);var h=he;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=ys(t,t===ut?nt:0),e=he,r===0)n!==null&&(n!==pl&&hc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==pl&&hc(n)}e===15?(n=Nc.bind(null,t),rn===null?(rn=[n],Jo=zd(nu,Yg)):rn.push(n),n=pl):e===14?n=Ss(99,Nc.bind(null,t)):(n=X0(e),n=Ss(n,y_.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function y_(t){if(Zo=-1,ea=sn=0,X&48)throw Error(z(327));var e=t.callbackNode;if(Bn()&&t.callbackNode!==e)return null;var n=ys(t,t===ut?nt:0);if(n===0)return null;var r=n,i=X;X|=16;var s=S_();(ut!==t||nt!==r)&&(gi(),Hr(t,r));do try{lw();break}catch(u){T_(t,u)}while(!0);if(jd(),Aa.current=s,X=i,Oe!==null?r=0:(ut=null,nt=0,r=He),pi&mi)Hr(t,0);else if(r!==0){if(r===2&&(X|=64,t.hydrate&&(t.hydrate=!1,Ld(t.containerInfo)),n=Pg(t),n!==0&&(r=qi(t,n))),r===1)throw e=iu,Hr(t,0),Ur(t,n),At(t,tt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(z(345));case 2:Kn(t);break;case 3:if(Ur(t,n),(n&62914560)===n&&(r=Jd+500-tt(),10<r)){if(ys(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jh(Kn.bind(null,t),r);break}Kn(t);break;case 4:if(Ur(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Vn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ow(n/1960))-n,10<n){t.timeoutHandle=jh(Kn.bind(null,t),n);break}Kn(t);break;case 5:Kn(t);break;default:throw Error(z(329))}}return At(t,tt()),t.callbackNode===e?y_.bind(null,t):null}function Ur(t,e){for(e&=~Xd,e&=~mi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function Nc(t){if(X&48)throw Error(z(327));if(Bn(),t===ut&&t.expiredLanes&nt){var e=nt,n=qi(t,e);pi&mi&&(e=ys(t,e),n=qi(t,e))}else e=ys(t,0),n=qi(t,e);if(t.tag!==0&&n===2&&(X|=64,t.hydrate&&(t.hydrate=!1,Ld(t.containerInfo)),e=Pg(t),e!==0&&(n=qi(t,e))),n===1)throw n=iu,Hr(t,0),Ur(t,e),At(t,tt()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kn(t),At(t,tt()),null}function aw(){if(ln!==null){var t=ln;ln=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,At(e,tt())})}Zt()}function w_(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(gi(),Zt())}}function E_(t,e){var n=X;X&=-2,X|=8;try{return t(e)}finally{X=n,X===0&&(gi(),Zt())}}function No(t,e){Ce(Cc,ur),ur|=e,pi|=e}function Zd(){ur=Cc.current,ve(Cc)}function Hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$1(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ma();break;case 3:ei(),ve(ft),ve(st),Ud();break;case 5:Bd(r);break;case 4:ei();break;case 13:ve(ke);break;case 19:ve(ke);break;case 10:Fd(r);break;case 23:case 24:Zd()}n=n.return}ut=t,Oe=xn(t.current,null),nt=ur=pi=e,He=0,iu=null,Xd=mi=Js=0}function T_(t,e){do{var n=Oe;try{if(jd(),is.current=Ia,Ta){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ta=!1}if(As=0,Be=Je=Re=null,ss=!1,Yd.current=null,n===null||n.return===null){He=1,iu=e,Oe=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=nt,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(u.mode&2)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=(ke.current&1)!==0,y=o;do{var I;if(I=y.tag===13){var P=y.memoizedState;if(P!==null)I=P.dehydrated!==null;else{var C=y.memoizedProps;I=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!v}}if(I){var g=y.updateQueue;if(g===null){var m=new Set;m.add(c),y.updateQueue=m}else g.add(c);if(!(y.mode&2)){if(y.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var _=Cn(-1,1);_.tag=2,In(u,_)}u.lanes|=1;break e}l=void 0,u=e;var k=s.pingCache;if(k===null?(k=s.pingCache=new tw,l=new Set,k.set(c,l)):(l=k.get(c),l===void 0&&(l=new Set,k.set(c,l))),!l.has(u)){l.add(u);var a=pw.bind(null,s,c,u);c.then(a,a)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);l=Error((Lr(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}He!==5&&(He=2),l=Qd(l,u),y=o;do{switch(y.tag){case 3:s=l,y.flags|=4096,e&=-e,y.lanes|=e;var f=g_(y,s,e);Wh(y,f);break e;case 1:s=l;var d=y.type,p=y.stateNode;if(!(y.flags&64)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bt===null||!Bt.has(p)))){y.flags|=4096,e&=-e,y.lanes|=e;var w=__(y,s,e);Wh(y,w);break e}}y=y.return}while(y!==null)}C_(n)}catch(E){e=E,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function S_(){var t=Aa.current;return Aa.current=Ia,t===null?Ia:t}function qi(t,e){var n=X;X|=16;var r=S_();ut===t&&nt===e||Hr(t,e);do try{uw();break}catch(i){T_(t,i)}while(!0);if(jd(),X=n,Aa.current=r,Oe!==null)throw Error(z(261));return ut=null,nt=0,He}function uw(){for(;Oe!==null;)k_(Oe)}function lw(){for(;Oe!==null&&!H1();)k_(Oe)}function k_(t){var e=A_(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?C_(t):Oe=e,Yd.current=null}function C_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=ew(e),n!==null){n.flags&=2047,Oe=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=Z1(n,e,ur),n!==null){Oe=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||ur&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);He===0&&(He=5)}function Kn(t){var e=Zr();return ar(99,cw.bind(null,t,e)),null}function cw(t,e){do Bn();while(os!==null);if(X&48)throw Error(z(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-Vn(s),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~c}if(ln!==null&&!(r&24)&&ln.has(t)&&ln.delete(t),t===ut&&(Oe=ut=null,nt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=X,X|=32,Yd.current=null,dl=Go,o=Nh(),uc(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,v=-1,y=-1,I=0,P=0,C=o,g=null;t:for(;;){for(var m;C!==u||s!==0&&C.nodeType!==3||(v=h+s),C!==l||c!==0&&C.nodeType!==3||(y=h+c),C.nodeType===3&&(h+=C.nodeValue.length),(m=C.firstChild)!==null;)g=C,C=m;for(;;){if(C===o)break t;if(g===u&&++I===s&&(v=h),g===l&&++P===c&&(y=h),(m=C.nextSibling)!==null)break;C=g,g=C.parentNode}C=m}u=v===-1||y===-1?null:{start:v,end:y}}else u=null;u=u||{start:0,end:0}}else u=null;fl={focusedElem:o,selectionRange:u},Go=!1,us=null,ta=!1,q=r;do try{dw()}catch(E){if(q===null)throw Error(z(330));Rn(q,E),q=q.nextEffect}while(q!==null);us=null,q=r;do try{for(o=t;q!==null;){var _=q.flags;if(_&16&&ms(q.stateNode,""),_&128){var k=q.alternate;if(k!==null){var a=k.ref;a!==null&&(typeof a=="function"?a(null):a.current=null)}}switch(_&1038){case 2:_p(q),q.flags&=-3;break;case 6:_p(q),q.flags&=-3,yl(q.alternate,q);break;case 1024:q.flags&=-1025;break;case 1028:q.flags&=-1025,yl(q.alternate,q);break;case 4:yl(q.alternate,q);break;case 8:u=q,v_(o,u);var f=u.alternate;mp(u),f!==null&&mp(f)}q=q.nextEffect}}catch(E){if(q===null)throw Error(z(330));Rn(q,E),q=q.nextEffect}while(q!==null);if(a=fl,k=Nh(),_=a.focusedElem,o=a.selectionRange,k!==_&&_&&_.ownerDocument&&Lg(_.ownerDocument.documentElement,_)){for(o!==null&&uc(_)&&(k=o.start,a=o.end,a===void 0&&(a=k),"selectionStart"in _?(_.selectionStart=k,_.selectionEnd=Math.min(a,_.value.length)):(a=(k=_.ownerDocument||document)&&k.defaultView||window,a.getSelection&&(a=a.getSelection(),u=_.textContent.length,f=Math.min(o.start,u),o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=Dh(_,f),s=Dh(_,o),u&&s&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(k=k.createRange(),k.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(k),a.extend(s.node,s.offset)):(k.setEnd(s.node,s.offset),a.addRange(k)))))),k=[],a=_;a=a.parentNode;)a.nodeType===1&&k.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++)a=k[_],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Go=!!dl,fl=dl=null,t.current=n,q=r;do try{for(_=t;q!==null;){var d=q.flags;if(d&36&&iw(_,q.alternate,q),d&128){k=void 0;var p=q.ref;if(p!==null){var w=q.stateNode;switch(q.tag){case 5:k=w;break;default:k=w}typeof p=="function"?p(k):p.current=k}}q=q.nextEffect}}catch(E){if(q===null)throw Error(z(330));Rn(q,E),q=q.nextEffect}while(q!==null);q=null,W1(),X=i}else t.current=n;if(Ln)Ln=!1,os=t,Hi=e;else for(q=r;q!==null;)e=q.nextEffect,q.nextEffect=null,q.flags&8&&(d=q,d.sibling=null,d.stateNode=null),q=e;if(r=t.pendingLanes,r===0&&(Bt=null),r===1?t===Dc?as++:(as=0,Dc=t):as=0,n=n.stateNode,rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(xd,n,void 0,(n.current.flags&64)===64)}catch{}if(At(t,tt()),Pa)throw Pa=!1,t=Pc,Pc=null,t;return X&8||Zt(),null}function dw(){for(;q!==null;){var t=q.alternate;ta||us===null||(q.flags&8?_h(q,us)&&(ta=!0):q.tag===13&&sw(t,q)&&_h(q,us)&&(ta=!0));var e=q.flags;e&256&&rw(t,q),!(e&512)||Ln||(Ln=!0,Ss(97,function(){return Bn(),null})),q=q.nextEffect}}function Bn(){if(Hi!==90){var t=97<Hi?97:Hi;return Hi=90,ar(t,hw)}return!1}function fw(t,e){Rc.push(e,t),Ln||(Ln=!0,Ss(97,function(){return Bn(),null}))}function I_(t,e){bc.push(e,t),Ln||(Ln=!0,Ss(97,function(){return Bn(),null}))}function hw(){if(os===null)return!1;var t=os;if(os=null,X&48)throw Error(z(331));var e=X;X|=32;var n=bc;bc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(z(330));Rn(s,l)}}for(n=Rc,Rc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(z(330));Rn(s,l)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return X=e,Zt(),!0}function yp(t,e,n){e=Qd(n,e),e=g_(t,e,1),In(t,e),e=gt(),t=su(t,1),t!==null&&(Xa(t,1,e),At(t,e))}function Rn(t,e){if(t.tag===3)yp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){yp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=Qd(e,t);var i=__(n,t,1);if(In(n,i),i=gt(),n=su(n,1),n!==null)Xa(n,1,i),At(n,i);else if(typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function pw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(nt&n)===n&&(He===4||He===3&&(nt&62914560)===nt&&500>tt()-Jd?Hr(t,0):Xd|=n),At(t,e)}function mw(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(sn===0&&(sn=pi),e=Sr(62914560&~sn),e===0&&(e=4194304)):e=Zr()===99?1:2:e=1),n=gt(),t=su(t,e),t!==null&&(Xa(t,e,n),At(t,n))}var A_;A_=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)Lt=!0;else if(n&r)Lt=!!(t.flags&16384);else{switch(Lt=!1,e.tag){case 3:sp(e),gl();break;case 5:Yh(e);break;case 1:ht(e.type)&&Xo(e);break;case 4:gc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Ce(ga,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?op(t,e,n):(Ce(ke,ke.current&1),e=an(t,e,n),e!==null?e.sibling:null);Ce(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return dp(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(ke,ke.current),r)break;return null;case 23:case 24:return e.lanes=0,_l(t,e,n)}return an(t,e,n)}else Lt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Jr(e,st.current),$r(e,n),i=qd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(r)){var s=!0;Xo(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$d(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&ya(e,r,o,t),i.updater=ru,e.stateNode=i,i._reactInternals=e,mc(e,r,t,n),e=wc(null,e,r,!0,s,n)}else e.tag=0,dt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=_w(i),t=Ot(i,t),s){case 0:e=yc(null,e,i,t,n);break e;case 1:e=ip(null,e,i,t,n);break e;case 11:e=np(null,e,i,t,n);break e;case 14:e=rp(null,e,i,Ot(i.type,t),r,n);break e}throw Error(z(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),yc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),ip(t,e,r,i,n);case 3:if(sp(e),r=e.updateQueue,t===null||r===null)throw Error(z(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Jg(t,e),ks(e,r,null,n),r=e.memoizedState.element,r===i)gl(),e=an(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(wn=Fr(e.stateNode.containerInfo.firstChild),on=e,s=Wt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Br.push(s);for(n=n_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else dt(t,e,r,n),gl();e=e.child}return e;case 5:return Yh(e),t===null&&_c(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dc(r,i)?o=null:s!==null&&dc(r,s)&&(e.flags|=16),f_(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&_c(e),null;case 13:return op(t,e,n);case 4:return gc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),np(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(Ce(ga,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=wt(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!ft.current){e=an(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){u.tag===1&&(c=Cn(-1,n&-n),c.tag=2,In(u,c)),u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),Xg(u.return,n),l.lanes|=n;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,$r(e,n),i=It(i,s.unstable_observedBits),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return i=e.type,s=Ot(i,e.pendingProps),s=Ot(i.type,s),rp(t,e,i,s,r,n);case 15:return d_(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ht(r)?(t=!0,Xo(e)):t=!1,$r(e,n),e_(e,r,i),mc(e,r,i,n),wc(null,e,r,!0,t,n);case 19:return dp(t,e,n);case 23:return _l(t,e,n);case 24:return _l(t,e,n)}throw Error(z(156,e.tag))};function gw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new gw(t,e,n,r)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _w(t){if(typeof t=="function")return ef(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ga)return 11;if(t===Qa)return 14}return 2}function xn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function na(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ef(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _n:return qr(n.children,i,s,e);case rg:o=8,i|=16;break;case gd:o=8,i|=1;break;case Xi:return t=Et(12,n,e,i|8),t.elementType=Xi,t.type=Xi,t.lanes=s,t;case Ji:return t=Et(13,n,e,i),t.type=Ji,t.elementType=Ji,t.lanes=s,t;case aa:return t=Et(19,n,e,i),t.elementType=aa,t.lanes=s,t;case Td:return tf(n,i,s,e);case Kl:return t=Et(24,n,e,i),t.elementType=Kl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _d:o=10;break e;case vd:o=9;break e;case Ga:o=11;break e;case Qa:o=14;break e;case yd:o=16,r=null;break e;case wd:o=22;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Et(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qr(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function tf(t,e,n,r){return t=Et(23,t,r,e),t.elementType=Td,t.lanes=n,t}function wl(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function El(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vw(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.mutableSourceEagerHydrationData=null}function yw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ra(t,e,n,r){var i=e.current,s=gt(),o=An(i);e:if(n){n=n._reactInternals;t:{if(mr(n)!==n||n.tag!==1)throw Error(z(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ht(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(z(171))}if(n.tag===1){var l=n.type;if(ht(l)){n=Hg(n,l,u);break e}}n=u}else n=On;return e.context===null?e.context=n:e.pendingContext=n,e=Cn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),In(i,e),Pn(i,o,s),o}function Tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nf(t,e){wp(t,e),(t=t.alternate)&&wp(t,e)}function ww(){return null}function rf(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new vw(t,e,n!=null&&n.hydrate===!0),e=Et(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,$d(e),t[hi]=n.current,jg(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}rf.prototype.render=function(t){Ra(t,this._internalRoot,null,null)};rf.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ra(null,t,null,function(){e[hi]=null})};function Zs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ew(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new rf(t,0,e?{hydrate:!0}:void 0)}function ou(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=Tl(o);u.call(c)}}Ra(e,o,t,i)}else{if(s=n._reactRootContainer=Ew(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=Tl(o);l.call(c)}}E_(function(){Ra(e,o,t,i)})}return Tl(o)}vg=function(t){if(t.tag===13){var e=gt();Pn(t,4,e),nf(t,4)}};Ad=function(t){if(t.tag===13){var e=gt();Pn(t,67108864,e),nf(t,67108864)}};yg=function(t){if(t.tag===13){var e=gt(),n=An(t);Pn(t,n,e),nf(t,n)}};wg=function(t,e){return e()};rc=function(t,e,n){switch(e){case"input":if(Ql(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tu(r);if(!i)throw Error(z(90));sg(r),Ql(r,i)}}}break;case"textarea":ag(t,n);break;case"select":e=n.value,e!=null&&xr(t,!!n.multiple,e,!1)}};kd=w_;pg=function(t,e,n,r,i){var s=X;X|=4;try{return ar(98,t.bind(null,e,n,r,i))}finally{X=s,X===0&&(gi(),Zt())}};Cd=function(){!(X&49)&&(aw(),Bn())};mg=function(t,e){var n=X;X|=2;try{return t(e)}finally{X=n,X===0&&(gi(),Zt())}};function P_(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zs(e))throw Error(z(200));return yw(t,e,null,n)}var Tw={Events:[Ys,br,tu,fg,hg,Bn,{current:!1}]},Oi={findFiberByHostInstance:Xn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Sw={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_g(t),t===null?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{xd=Mo.inject(Sw),rr=Mo}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tw;Rt.createPortal=P_;Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):Error(z(268,Object.keys(t)));return t=_g(e),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t,e){var n=X;if(n&48)return t(e);X|=1;try{if(t)return ar(99,t.bind(null,e))}finally{X=n,Zt()}};Rt.hydrate=function(t,e,n){if(!Zs(e))throw Error(z(200));return ou(null,t,e,!0,n)};Rt.render=function(t,e,n){if(!Zs(e))throw Error(z(200));return ou(null,t,e,!1,n)};Rt.unmountComponentAtNode=function(t){if(!Zs(t))throw Error(z(40));return t._reactRootContainer?(E_(function(){ou(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Rt.unstable_batchedUpdates=w_;Rt.unstable_createPortal=function(t,e){return P_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zs(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ou(t,e,n,!1,r)};Rt.version="17.0.2";function R_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R_)}catch(t){console.error(t)}}R_(),Zm.exports=Rt;var kw=Zm.exports;const Cw=Ws(kw);function Iw(t){const e=t.notes.map((n,r)=>Me.jsx("div",{children:Me.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[Me.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),Me.jsx("button",{className:"delete-btn",onClick:i=>t.deleteNote(i,n.id),children:Me.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return Me.jsxs("section",{className:"pane sidebar",children:[Me.jsxs("div",{className:"sidebar--header",children:[Me.jsx("h3",{children:"Notes"}),Me.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var Sl={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getBreaksNeededForEmptyLineAfter=Ne.getBreaksNeededForEmptyLineBefore=Ne.selectWord=Ne.getSurroundingWord=void 0;function b_(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Ne.getSurroundingWord=b_;function Aw(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?b_(e,n.start):n}Ne.selectWord=Aw;function Pw(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Ne.getBreaksNeededForEmptyLineBefore=Pw;function Rw(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Ne.getBreaksNeededForEmptyLineAfter=Rw;var kl={},eo={},mn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(mn,"__esModule",{value:!0});mn.classNames=void 0;function bw(t){return typeof t=="string"}function Dw(t){return Array.isArray(t)&&t.length>0}function Nw(t){return typeof t=="object"}function D_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(bw(i))n.push(i);else if(Dw(i)){var s=D_.apply(null,i);s&&n.push(s)}else if(Nw(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}mn.classNames=D_;Object.defineProperty(eo,"__esModule",{value:!0});eo.ToolbarButtonGroup=void 0;var Mw=Pt,Vw=mn,Ow=function(t){return Mw.createElement("ul",{className:Vw.classNames("mde-header-group",{hidden:t.hidden})},t.children)};eo.ToolbarButtonGroup=Ow;var to={},Mr=te&&te.__assign||function(){return Mr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Mr.apply(this,arguments)};Object.defineProperty(to,"__esModule",{value:!0});to.ToolbarButton=void 0;var Ep=Pt,Lw={tabIndex:-1},xw=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=Mr(Mr({},Lw),r||{}),l=e||"button";return Ep.createElement("li",{className:"mde-header-item"},Ep.createElement(l,Mr(Mr({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};to.ToolbarButton=xw;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.MdeFontAwesomeIcon=void 0;var zw=Pt,jw=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return zw.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};no.MdeFontAwesomeIcon=jw;var au={},Fw=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(au,"__esModule",{value:!0});au.Preview=void 0;var Vo=Pt,$w=mn,Bw=function(t){Fw(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,c=l.preview,h=l.loading,v=h?s:c,y;typeof v=="string"?y=Vo.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:v||"<p>&nbsp;</p>"},ref:o}):y=Vo.createElement("div",{className:"mde-preview-content"},v);var I=i&&u?i+10+u:i+10;return Vo.createElement("div",{className:$w.classNames("mde-preview",r,{loading:h}),style:{minHeight:I},"data-testid":"mde-preview"},y)},e}(Vo.Component);au.Preview=Bw;var uu={},lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.getCaretCoordinates=void 0;var Uw=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],N_=typeof window<"u",Hw=N_&&window.mozInnerScreenX!=null;function qw(t,e){if(!N_)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",Uw.forEach(function(u){r[u]=i[u]}),Hw?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}lu.getCaretCoordinates=qw;var ro={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(ro,"__esModule",{value:!0});ro.insertText=void 0;function Ww(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(Kw(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,c=null,h=null,v=document.createRange();u&&(c===null||h===null);){var y=u.nodeValue.length;i>=l&&i<=l+y&&v.setStart(c=u,i-l),s>=l&&s<=l+y&&v.setEnd(h=u,s-l),l+=y,u=u.nextSibling}i!==s&&v.deleteContents(),v.insertNode(o)}}else{var I=t.value;t.value=I.slice(0,i)+e+I.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var P=document.createEvent("UIEvent");P.initEvent("input",!0,!1),t.dispatchEvent(P)}}ro.insertText=Ww;function Kw(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.mod=void 0;function Gw(t,e){return(t%e+e)%e}cu.mod=Gw;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.SuggestionsDropdown=void 0;var Tp=Pt,Qw=mn,Yw=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(C){C.preventDefault();var g=parseInt(C.currentTarget.attributes["data-index"].value);i(g)},c=function(C){return C.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),v=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),y=r.left-u.current.scrollLeft,I=r.top-u.current.scrollTop,P={};return s&&I+u.current.getBoundingClientRect().top>v/2?P.bottom=u.current.offsetHeight-I:P.top=I,s&&y+u.current.getBoundingClientRect().left>h/2?P.right=u.current.offsetWidth-y:P.left=y,Tp.createElement("ul",{className:Qw.classNames("mde-suggestions",e),style:P},n.map(function(C,g){return Tp.createElement("li",{onClick:l,onMouseDown:c,key:g,"aria-selected":o===g?"true":"false","data-index":""+g},C.preview)}))};io.SuggestionsDropdown=Yw;var Xw=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=te&&te.__assign||function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mt.apply(this,arguments)};Object.defineProperty(uu,"__esModule",{value:!0});uu.TextArea=void 0;var Oo=Pt,Jw=mn,Zw=lu,e3=ro,t3=cu,n3=io,r3=function(t){Xw(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:mt(mt({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=Zw.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),e3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,c=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var v=o==="ArrowUp"?-1:1;r.setState({mention:mt(mt({},h),{focusIndex:t3.mod(h.focusIndex+v,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,c=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:mt(mt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var v=c.charAt(r.getTextArea().selectionStart-1),y=l.includes(c.charAt(r.getTextArea().selectionStart-1));y&&r.loadEmptySuggestion(i.currentTarget,v)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:mt(mt({},r.state.mention),{status:"inactive"})});return}var h=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:mt(mt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,c=r.value,h=r.suggestionTriggerCharacters,v=r.loadSuggestions,y=r.suggestionsDropdownClasses,I=r.textAreaComponent,P=r.onPaste,C=r.onDrop,g=h&&h.length&&v,m=this.state.mention,_=I||"textarea",k=u&&l?u+l:u;return Oo.createElement("div",{className:"mde-textarea-wrapper"},Oo.createElement(_,mt({className:Jw.classNames("mde-text",i),style:{height:k},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(a){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,a),n.handleOnChange(a)},onBlur:function(a){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,a),g&&n.handleBlur()},onKeyDown:function(a){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,a),g&&n.handleKeyUp(a)},onKeyPress:function(a){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,a),g&&n.handleKeyPress(a)},onPaste:function(a){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,a),P(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,a),C(a),a.preventDefault()}})),m.status==="active"&&m.suggestions.length&&Oo.createElement(n3.SuggestionsDropdown,{classes:y,caret:m.caret,suggestions:m.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:m.focusIndex,textAreaRef:this.props.refObject}))},e}(Oo.Component);uu.TextArea=r3;var du={},i3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=te&&te.__assign||function(){return Vr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vr.apply(this,arguments)};Object.defineProperty(du,"__esModule",{value:!0});du.Toolbar=void 0;var Wn=Pt,Cl=mn,s3=eo,o3=to,a3=function(t){i3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,c=i.readOnly,h=i.disablePreview,v=i.writeButtonProps,y=i.previewButtonProps,I=i.buttonProps;if((!u||u.length===0)&&!o)return null;var P=Wn.createElement("div",{className:"mde-tabs"},Wn.createElement("button",Vr({type:"button",className:Cl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},v),r.write),Wn.createElement("button",Vr({type:"button",className:Cl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},y),r.preview));return Wn.createElement("div",{className:Cl.classNames("mde-header",s)},!h&&P,u.map(function(C,g){return Wn.createElement(s3.ToolbarButtonGroup,{key:g,hidden:n.props.tab==="preview"},C.map(function(m,_){return Wn.createElement(o3.ToolbarButton,{key:_,name:m.commandName,buttonContent:m.buttonContent,buttonProps:Vr(Vr({},I||{}),m.buttonProps),onClick:function(){return l(m.commandName)},readOnly:c,buttonComponentClass:m.buttonComponentClass})}))}))},e}(Wn.Component);du.Toolbar=a3;var Li={},Kt={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.headerCommand=void 0;var u3=Ne;function l3(t,e,n){var r=u3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}fu.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;l3(e,n,"### ")}};var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.boldCommand=void 0;var c3=Ne;hu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=c3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.italicCommand=void 0;var d3=Ne;pu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=d3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.strikeThroughCommand=void 0;var f3=Ne;mu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=f3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.linkCommand=void 0;var h3=Ne;gu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=h3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.quoteCommand=void 0;var Il=Ne;_u.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=Il.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=Il.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=Il.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,h=c+i.selectedText.length;n.setSelectionRange({start:c,end:h})}};var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.codeCommand=void 0;var Al=Ne;vu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Al.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=Al.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),c=Al.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var v=i.selection.start+u+4,y=v+i.selectedText.length;n.setSelectionRange({start:v,end:y})}};var M_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Ne;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(c,h){if(typeof s=="string")return u+=s.length,s+c;if(typeof s=="function"){var v=s(c,h);return u+=v.length,s(c,h)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(c+1).join(`
`),v=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),y=Array(v+1).join(`
`),I=n(l.selectedText,o);s.replaceSelection(""+h+I.modifiedText+y);var P=l.selectedText.indexOf(`
`)===-1?I.insertionLength:0,C=l.selection.start+c+P,g=C+I.modifiedText.length-P;s.setSelectionRange({start:C,end:g})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(M_);var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.imageCommand=void 0;var p3=Ne;yu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(p3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var wu={},Eu={},m3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(v){o(v)}}function l(h){try{c(r.throw(h))}catch(v){o(v)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},g3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.readFileAsync=void 0;function _3(t){return m3(this,void 0,void 0,function(){return g3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Eu.readFileAsync=_3;var v3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(v){o(v)}}function l(h){try{c(r.throw(h))}catch(v){o(v)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},y3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(wu,"__esModule",{value:!0});wu.saveImageCommand=void 0;var w3=Eu,E3=Ne;function Sp(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function T3(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function S3(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),u=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||u.has(c.type)||l.has(c.type.split("/")[0])})}return i}wu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return v3(this,void 0,void 0,function(){var i,s,o,u,l,c,h,v,y,I,P,C,g,m,_,k,a,f,d,p,w,E,T,A;return y3(this,function(O){switch(O.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,c=o.accept,h=k3(n)?Sp(s.clipboardData.items):C3(n)?Sp(s.dataTransfer.items):T3(s.target.files),v=S3(h,{multiple:l,accept:c}),y=[];for(I in v)y.push(I);P=0,O.label=1;case 1:return P<y.length?(C=y[P],g=e.getState(),m=E3.getBreaksNeededForEmptyLineBefore(g.text,g.selection.start),_=Array(m+1).join(`
`),k=_+"!["+r.uploadingImage+"]()",e.replaceSelection(k),a=h[C],[4,w3.readFileAsync(a)]):[3,5];case 2:return f=O.sent(),d=u(f,a),[4,d.next()];case 3:p=O.sent().value,w=e.getState(),E=w.text.substr(g.selection.start,k.length),E===k&&(e.setSelectionRange({start:g.selection.start,end:g.selection.start+k.length}),T=p?_+"![image]("+p+")":"",A=T.length-k.length,e.replaceSelection(T),e.setSelectionRange({start:w.selection.start+A,end:w.selection.end+A})),O.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}};function k3(t){return t.event.clipboardData!==void 0}function C3(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Kt,"__esModule",{value:!0});Kt.getDefaultSaveImageCommandName=Kt.getDefaultCommandMap=Kt.getDefaultToolbarCommands=void 0;var I3=fu,A3=hu,P3=pu,R3=mu,b3=gu,D3=_u,N3=vu,Pl=M_,M3=yu,V3=wu;function O3(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Kt.getDefaultToolbarCommands=O3;function L3(){return{header:I3.headerCommand,bold:A3.boldCommand,italic:P3.italicCommand,strikethrough:R3.strikeThroughCommand,link:b3.linkCommand,quote:D3.quoteCommand,code:N3.codeCommand,image:M3.imageCommand,"unordered-list":Pl.unorderedListCommand,"ordered-list":Pl.orderedListCommand,"checked-list":Pl.checkedListCommand,"save-image":V3.saveImageCommand}}Kt.getDefaultCommandMap=L3;function x3(){return"save-image"}Kt.getDefaultSaveImageCommandName=x3;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.enL18n=void 0;Tu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var sf={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.SvgIcon=void 0;var Ie=Pt,z3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),j3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),F3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),$3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),B3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),U3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),H3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),q3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),W3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),K3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),G3=Ie.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ie.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),Q3=function(t){var e=t.icon;switch(e){case"header":return K3;case"bold":return G3;case"italic":return W3;case"strikethrough":return q3;case"link":return H3;case"quote":return U3;case"code":return B3;case"image":return $3;case"unordered-list":return F3;case"ordered-list":return j3;case"checked-list":return z3;default:return null}};Su.SvgIcon=Q3;(function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(no,t),n(Su,t)})(sf);var en={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.extractKeyActivatedCommands=void 0;function Y3(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}ku.extractKeyActivatedCommands=Y3;var kp;function X3(){if(kp)return en;kp=1;var t=te&&te.__assign||function(){return t=Object.assign||function(h){for(var v,y=1,I=arguments.length;y<I;y++){v=arguments[y];for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(h[P]=v[P])}return h},t.apply(this,arguments)},e=te&&te.__awaiter||function(h,v,y,I){function P(C){return C instanceof y?C:new y(function(g){g(C)})}return new(y||(y=Promise))(function(C,g){function m(a){try{k(I.next(a))}catch(f){g(f)}}function _(a){try{k(I.throw(a))}catch(f){g(f)}}function k(a){a.done?C(a.value):P(a.value).then(m,_)}k((I=I.apply(h,v||[])).next())})},n=te&&te.__generator||function(h,v){var y={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},I,P,C,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(k){return function(a){return _([k,a])}}function _(k){if(I)throw new TypeError("Generator is already executing.");for(;y;)try{if(I=1,P&&(C=k[0]&2?P.return:k[0]?P.throw||((C=P.return)&&C.call(P),0):P.next)&&!(C=C.call(P,k[1])).done)return C;switch(P=0,C&&(k=[k[0]&2,C.value]),k[0]){case 0:case 1:C=k;break;case 4:return y.label++,{value:k[1],done:!1};case 5:y.label++,P=k[1],k=[0];continue;case 7:k=y.ops.pop(),y.trys.pop();continue;default:if(C=y.trys,!(C=C.length>0&&C[C.length-1])&&(k[0]===6||k[0]===2)){y=0;continue}if(k[0]===3&&(!C||k[1]>C[0]&&k[1]<C[3])){y.label=k[1];break}if(k[0]===6&&y.label<C[1]){y.label=C[1],C=k;break}if(C&&y.label<C[2]){y.label=C[2],y.ops.push(k);break}C[2]&&y.ops.pop(),y.trys.pop();continue}k=v.call(h,y)}catch(a){k=[6,a],P=0}finally{I=C=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}};Object.defineProperty(en,"__esModule",{value:!0}),en.CommandOrchestrator=en.getStateFromTextArea=en.TextAreaTextApi=void 0;var r=O_(),i=ro,s=ku,o=Kt,u=function(){function h(v){this.textAreaRef=v}return h.prototype.replaceSelection=function(v){var y=this.textAreaRef.current;return i.insertText(y,v),l(y)},h.prototype.setSelectionRange=function(v){var y=this.textAreaRef.current;return y.focus(),y.selectionStart=v.start,y.selectionEnd=v.end,l(y)},h.prototype.getState=function(){var v=this.textAreaRef.current;return l(v)},h}();en.TextAreaTextApi=u;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}en.getStateFromTextArea=l;var c=function(){function h(v,y,I,P){var C=this;if(this.getCommand=function(g){var m=C.commandMap[g];if(!m)throw new Error("Cannot execute command. Command not found: "+g);return m},this.handlePossibleKeyCommand=function(g){for(var m=0,_=C.keyActivatedCommands;m<_.length;m++){var k=_[m];if(C.getCommand(k).handleKeyCommand(g))return C.executeCommand(k).then(function(a){}),!0}return!1},P&&!P.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),v||{}),this.pasteOptions=P,this.keyActivatedCommands=s.extractKeyActivatedCommands(v),this.textAreaRef=y,this.textApi=new u(y),this.l18n=I}return h.prototype.executeCommand=function(v,y){return e(this,void 0,void 0,function(){var I,P;return n(this,function(C){switch(C.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,I=this.commandMap[v],P=I.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:y}),[4,P]);case 1:return C.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(v){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:v})]:[2]})})},h.prototype.executeDropCommand=function(v){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:v})]:[2]})})},h.prototype.executeSelectImageCommand=function(v){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:v})]:[2]})})},h.prototype.getCommandByName=function(v){return this.commandMap[v]},h}();return en.CommandOrchestrator=c,en}var Cp;function J3(){if(Cp)return Li;Cp=1;var t=te&&te.__extends||function(){var I=function(P,C){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(g[_]=m[_])},I(P,C)};return function(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");I(P,C);function g(){this.constructor=P}P.prototype=C===null?Object.create(C):(g.prototype=C.prototype,new g)}}(),e=te&&te.__assign||function(){return e=Object.assign||function(I){for(var P,C=1,g=arguments.length;C<g;C++){P=arguments[C];for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(I[m]=P[m])}return I},e.apply(this,arguments)},n=te&&te.__awaiter||function(I,P,C,g){function m(_){return _ instanceof C?_:new C(function(k){k(_)})}return new(C||(C=Promise))(function(_,k){function a(p){try{d(g.next(p))}catch(w){k(w)}}function f(p){try{d(g.throw(p))}catch(w){k(w)}}function d(p){p.done?_(p.value):m(p.value).then(a,f)}d((g=g.apply(I,P||[])).next())})},r=te&&te.__generator||function(I,P){var C={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,m,_,k;return k={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function a(d){return function(p){return f([d,p])}}function f(d){if(g)throw new TypeError("Generator is already executing.");for(;C;)try{if(g=1,m&&(_=d[0]&2?m.return:d[0]?m.throw||((_=m.return)&&_.call(m),0):m.next)&&!(_=_.call(m,d[1])).done)return _;switch(m=0,_&&(d=[d[0]&2,_.value]),d[0]){case 0:case 1:_=d;break;case 4:return C.label++,{value:d[1],done:!1};case 5:C.label++,m=d[1],d=[0];continue;case 7:d=C.ops.pop(),C.trys.pop();continue;default:if(_=C.trys,!(_=_.length>0&&_[_.length-1])&&(d[0]===6||d[0]===2)){C=0;continue}if(d[0]===3&&(!_||d[1]>_[0]&&d[1]<_[3])){C.label=d[1];break}if(d[0]===6&&C.label<_[1]){C.label=_[1],_=d;break}if(_&&C.label<_[2]){C.label=_[2],C.ops.push(d);break}_[2]&&C.ops.pop(),C.trys.pop();continue}d=P.call(I,C)}catch(p){d=[6,p],m=0}finally{g=_=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(Li,"__esModule",{value:!0}),Li.ReactMde=void 0;var i=Pt,s=V_(),o=Kt,u=Tu,l=sf,c=mn,h=X3(),v={accept:"image/*",multiple:!1},y=function(I){t(P,I);function P(C){var g,m=I.call(this,C)||this;m.handleTextChange=function(k){var a=m.props.onChange;a(k)},m.handlePaste=function(k){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(k)];case 1:return f.sent(),[2]}})})},m.handleDrop=function(k){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(k)];case 1:return f.sent(),[2]}})})},m.handleImageSelection=function(k){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(k)];case 1:return f.sent(),[2]}})})},m.handleTabChange=function(k){var a=m.props.onTabChange;a(k)},m.handleCommand=function(k){return n(m,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(k)];case 1:return a.sent(),[2]}})})},m.finalRefs=e({},C.refs||{}),m.finalRefs.textarea||(m.finalRefs.textarea=i.createRef()),m.finalRefs.preview||(m.finalRefs.preview=i.createRef()),m.commandOrchestrator=new h.CommandOrchestrator(m.props.commands,m.finalRefs.textarea,m.props.l18n,m.props.paste?e(e({},v),m.props.paste):void 0);var _=Math.min(C.maxEditorHeight,C.minEditorHeight);return m.state={editorHeight:(g=C.initialEditorHeight)!==null&&g!==void 0?g:_},m}return P.prototype.render=function(){var C=this,g,m,_=this.props,k=_.getIcon,a=_.toolbarCommands,f=_.classes,d=_.loadingPreview,p=_.readOnly,w=_.disablePreview,E=_.value,T=_.l18n,A=_.minPreviewHeight,O=_.heightUnits,b=_.childProps,N=_.selectedTab,M=_.generateMarkdownPreview,S=_.loadSuggestions,D=_.suggestionTriggerCharacters,B=_.textAreaComponent,U=b||{},se=a.map(function(R){return R.map(function(H){var K=C.commandOrchestrator.getCommand(H);return{commandName:H,buttonContent:K.icon?K.icon(k):k(H),buttonProps:K.buttonProps,buttonComponentClass:K.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:se,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:N,readOnly:p,disablePreview:w,l18n:T,buttonProps:U.commandButtons,writeButtonProps:U.writeButton,previewButtonProps:U.previewButton}),i.createElement("div",{className:c.classNames({invisible:N!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:B,textAreaProps:b&&b.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:E,suggestionTriggerCharacters:D,loadSuggestions:S,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(g=this.props.paste.accept)!==null&&g!==void 0?g:v.accept,multiple:(m=this.props.paste.multiple)!==null&&m!==void 0?m:v.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,T.pasteDropSelect))),N!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:A,heightUnits:O,generateMarkdownPreview:M,markdown:E}))},P.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(C){return i.createElement(l.SvgIcon,{icon:C})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},P}(i.Component);return Li.ReactMde=y,Li}var Ip;function V_(){return Ip||(Ip=1,function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(eo,t),n(to,t),n(no,t),n(au,t),n(uu,t),n(du,t),n(J3(),t),n(io,t)}(kl)),kl}var Ap;function O_(){return Ap||(Ap=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Ne;t.MarkdownUtil=e;var n=V_();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=sf;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Kt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(Sl)),Sl}var Z3=O_();const eE=Ws(Z3);var L_={exports:{}};(function(t){(function(){function e(a){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(f));var d={};for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p].defaultValue);return d}function n(){var a=e(!0),f={};for(var d in a)a.hasOwnProperty(d)&&(f[d]=!0);return f}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,f){return o[a]=f,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var f=l[a];u=a;for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,f){if(r.helper.isString(a))if(typeof f<"u")i[a]=f;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,f){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(f)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var d=c(f,a);if(d.valid)s[a]=f;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function c(a,f){var d=f?"Error in "+f+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var w=0;w<a.length;++w){var E=d+" sub-extension "+w+": ",T=a[w];if(typeof T!="object")return p.valid=!1,p.error=E+"must be an object, but "+typeof T+" given",p;if(!r.helper.isString(T.type))return p.valid=!1,p.error=E+'property "type" must be a string, but '+typeof T.type+" given",p;var A=T.type=T.type.toLowerCase();if(A==="language"&&(A=T.type="lang"),A==="html"&&(A=T.type="output"),A!=="lang"&&A!=="output"&&A!=="listener")return p.valid=!1,p.error=E+"type "+A+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(A==="listener"){if(r.helper.isUndefined(T.listeners))return p.valid=!1,p.error=E+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(T.filter)&&r.helper.isUndefined(T.regex))return p.valid=!1,p.error=E+A+' extensions must define either a "regex" property or a "filter" method',p;if(T.listeners){if(typeof T.listeners!="object")return p.valid=!1,p.error=E+'"listeners" property must be an object but '+typeof T.listeners+" given",p;for(var O in T.listeners)if(T.listeners.hasOwnProperty(O)&&typeof T.listeners[O]!="function")return p.valid=!1,p.error=E+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+O+" must be a function but "+typeof T.listeners[O]+" given",p}if(T.filter){if(typeof T.filter!="function")return p.valid=!1,p.error=E+'"filter" must be a function, but '+typeof T.filter+" given",p}else if(T.regex){if(r.helper.isString(T.regex)&&(T.regex=new RegExp(T.regex,"g")),!(T.regex instanceof RegExp))return p.valid=!1,p.error=E+'"regex" property must either be a string or a RegExp object, but '+typeof T.regex+" given",p;if(r.helper.isUndefined(T.replace))return p.valid=!1,p.error=E+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var f=c(a,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var f={};return a&&f.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,f){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(f);else if(r.helper.isArray(a))for(var d=0;d<a.length;d++)f(a[d],d,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&f(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(a,f){var d=f.charCodeAt(0);return"E"+d+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(a,f,d){var p="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(p="\\\\"+p);var w=new RegExp(p,"g");return a=a.replace(w,h),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var v=function(a,f,d,p){var w=p||"",E=w.indexOf("g")>-1,T=new RegExp(f+"|"+d,"g"+w.replace(/g/g,"")),A=new RegExp(f,w.replace(/g/g,"")),O=[],b,N,M,S,D;do for(b=0;M=T.exec(a);)if(A.test(M[0]))b++||(N=T.lastIndex,S=N-M[0].length);else if(b&&!--b){D=M.index+M[0].length;var B={left:{start:S,end:N},match:{start:N,end:M.index},right:{start:M.index,end:D},wholeMatch:{start:S,end:D}};if(O.push(B),!E)return O}while(b&&(T.lastIndex=N));return O};r.helper.matchRecursiveRegExp=function(a,f,d,p){for(var w=v(a,f,d,p),E=[],T=0;T<w.length;++T)E.push([a.slice(w[T].wholeMatch.start,w[T].wholeMatch.end),a.slice(w[T].match.start,w[T].match.end),a.slice(w[T].left.start,w[T].left.end),a.slice(w[T].right.start,w[T].right.end)]);return E},r.helper.replaceRecursiveRegExp=function(a,f,d,p,w){if(!r.helper.isFunction(f)){var E=f;f=function(){return E}}var T=v(a,d,p,w),A=a,O=T.length;if(O>0){var b=[];T[0].wholeMatch.start!==0&&b.push(a.slice(0,T[0].wholeMatch.start));for(var N=0;N<O;++N)b.push(f(a.slice(T[N].wholeMatch.start,T[N].wholeMatch.end),a.slice(T[N].match.start,T[N].match.end),a.slice(T[N].left.start,T[N].left.end),a.slice(T[N].right.start,T[N].right.end))),N<O-1&&b.push(a.slice(T[N].wholeMatch.end,T[N+1].wholeMatch.start));T[O-1].wholeMatch.end<a.length&&b.push(a.slice(T[O-1].wholeMatch.end)),A=b.join("")}return A},r.helper.regexIndexOf=function(a,f,d){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(d||0).search(f);return p>=0?p+(d||0):p},r.helper.splitAtIndex=function(a,f){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,f),a.substring(f)]},r.helper.encodeEmailAddress=function(a){var f=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return a=a.replace(/./g,function(d){if(d==="@")d=f[Math.floor(Math.random()*2)](d);else{var p=Math.random();d=p>.9?f[2](d):p>.45?f[1](d):f[0](d)}return d}),a},r.helper.padEnd=function(f,d,p){return d=d>>0,p=String(p||" "),f.length>d?String(f):(d=d-f.length,d>p.length&&(p+=p.repeat(d/p.length)),String(f)+p.slice(0,d))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var f={},d=[],p=[],w={},E=u,T={parsed:{},raw:"",format:""};A();function A(){a=a||{};for(var S in o)o.hasOwnProperty(S)&&(f[S]=o[S]);if(typeof a=="object")for(var D in a)a.hasOwnProperty(D)&&(f[D]=a[D]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,O)}function O(S,D){if(D=D||null,r.helper.isString(S))if(S=r.helper.stdExtName(S),D=S,r.extensions[S]){console.warn("DEPRECATION WARNING: "+S+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),b(r.extensions[S],S);return}else if(!r.helper.isUndefined(s[S]))S=s[S];else throw Error('Extension "'+S+'" could not be loaded. It was either not found or is not a valid extension.');typeof S=="function"&&(S=S()),r.helper.isArray(S)||(S=[S]);var B=c(S,D);if(!B.valid)throw Error(B.error);for(var U=0;U<S.length;++U){switch(S[U].type){case"lang":d.push(S[U]);break;case"output":p.push(S[U]);break}if(S[U].hasOwnProperty("listeners"))for(var se in S[U].listeners)S[U].listeners.hasOwnProperty(se)&&N(se,S[U].listeners[se])}}function b(S,D){typeof S=="function"&&(S=S(new r.Converter)),r.helper.isArray(S)||(S=[S]);var B=c(S,D);if(!B.valid)throw Error(B.error);for(var U=0;U<S.length;++U)switch(S[U].type){case"lang":d.push(S[U]);break;case"output":p.push(S[U]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function N(S,D){if(!r.helper.isString(S))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof S+" given");if(typeof D!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof D+" given");w.hasOwnProperty(S)||(w[S]=[]),w[S].push(D)}function M(S){var D=S.match(/^\s*/)[0].length,B=new RegExp("^\\s{0,"+D+"}","gm");return S.replace(B,"")}this._dispatch=function(D,B,U,se){if(w.hasOwnProperty(D))for(var R=0;R<w[D].length;++R){var H=w[D][R](D,B,this,U,se);H&&typeof H<"u"&&(B=H)}return B},this.listen=function(S,D){return N(S,D),this},this.makeHtml=function(S){if(!S)return S;var D={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return S=S.replace(//g,"T"),S=S.replace(/\$/g,"D"),S=S.replace(/\r\n/g,`
`),S=S.replace(/\r/g,`
`),S=S.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(S=M(S)),S=`

`+S+`

`,S=r.subParser("detab")(S,f,D),S=S.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(B){S=r.subParser("runExtension")(B,S,f,D)}),S=r.subParser("metadata")(S,f,D),S=r.subParser("hashPreCodeTags")(S,f,D),S=r.subParser("githubCodeBlocks")(S,f,D),S=r.subParser("hashHTMLBlocks")(S,f,D),S=r.subParser("hashCodeTags")(S,f,D),S=r.subParser("stripLinkDefinitions")(S,f,D),S=r.subParser("blockGamut")(S,f,D),S=r.subParser("unhashHTMLSpans")(S,f,D),S=r.subParser("unescapeSpecialChars")(S,f,D),S=S.replace(/D/g,"$$"),S=S.replace(/T/g,""),S=r.subParser("completeHTMLDocument")(S,f,D),r.helper.forEach(p,function(B){S=r.subParser("runExtension")(B,S,f,D)}),T=D.metadata,S},this.makeMarkdown=this.makeMd=function(S,D){if(S=S.replace(/\r\n/g,`
`),S=S.replace(/\r/g,`
`),S=S.replace(/>[ \t]+</,">NBSP;<"),!D)if(window&&window.document)D=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var B=D.createElement("div");B.innerHTML=S;var U={preList:re(B)};K(B);for(var se=B.childNodes,R="",H=0;H<se.length;H++)R+=r.subParser("makeMarkdown.node")(se[H],U);function K(ie){for(var me=0;me<ie.childNodes.length;++me){var Ee=ie.childNodes[me];Ee.nodeType===3?/\S/.test(Ee.nodeValue)?(Ee.nodeValue=Ee.nodeValue.split(`
`).join(" "),Ee.nodeValue=Ee.nodeValue.replace(/(\s)+/g,"$1")):(ie.removeChild(Ee),--me):Ee.nodeType===1&&K(Ee)}}function re(ie){for(var me=ie.querySelectorAll("pre"),Ee=[],j=0;j<me.length;++j)if(me[j].childElementCount===1&&me[j].firstChild.tagName.toLowerCase()==="code"){var V=me[j].firstChild.innerHTML.trim(),F=me[j].firstChild.getAttribute("data-language")||"";if(F==="")for(var G=me[j].firstChild.className.split(" "),Pe=0;Pe<G.length;++Pe){var Te=G[Pe].match(/^language-(.+)$/);if(Te!==null){F=Te[1];break}}V=r.helper.unescapeHTMLEntities(V),Ee.push(V),me[j].outerHTML='<precode language="'+F+'" precodenum="'+j.toString()+'"></precode>'}else Ee.push(me[j].innerHTML),me[j].innerHTML="",me[j].setAttribute("prenum",j.toString());return Ee}return R},this.setOption=function(S,D){f[S]=D},this.getOption=function(S){return f[S]},this.getOptions=function(){return f},this.addExtension=function(S,D){D=D||null,O(S,D)},this.useExtension=function(S){O(S)},this.setFlavor=function(S){if(!l.hasOwnProperty(S))throw Error(S+" flavor was not found");var D=l[S];E=S;for(var B in D)D.hasOwnProperty(B)&&(f[B]=D[B])},this.getFlavor=function(){return E},this.removeExtension=function(S){r.helper.isArray(S)||(S=[S]);for(var D=0;D<S.length;++D){for(var B=S[D],U=0;U<d.length;++U)d[U]===B&&d[U].splice(U,1);for(var se=0;se<p.length;++U)p[se]===B&&p[se].splice(U,1)}},this.getAllExtensions=function(){return{language:d,output:p}},this.getMetadata=function(S){return S?T.raw:T.parsed},this.getMetadataFormat=function(){return T.format},this._setMetadataPair=function(S,D){T.parsed[S]=D},this._setMetadataFormat=function(S){T.format=S},this._setMetadataRaw=function(S){T.raw=S}},r.subParser("anchors",function(a,f,d){a=d.converter._dispatch("anchors.before",a,f,d);var p=function(w,E,T,A,O,b,N){if(r.helper.isUndefined(N)&&(N=""),T=T.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)A="";else if(!A)if(T||(T=E.toLowerCase().replace(/ ?\n/g," ")),A="#"+T,!r.helper.isUndefined(d.gUrls[T]))A=d.gUrls[T],r.helper.isUndefined(d.gTitles[T])||(N=d.gTitles[T]);else return w;A=A.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var M='<a href="'+A+'"';return N!==""&&N!==null&&(N=N.replace(/"/g,"&quot;"),N=N.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),M+=' title="'+N+'"'),f.openLinksInNewWindow&&!/^#/.test(A)&&(M+=' rel="noopener noreferrer" target="E95Eblank"'),M+=">"+E+"</a>",M};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),f.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,E,T,A,O){if(T==="\\")return E+A;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var b=f.ghMentionsLink.replace(/\{u}/g,O),N="";return f.openLinksInNewWindow&&(N=' rel="noopener noreferrer" target="E95Eblank"'),E+'<a href="'+b+'"'+N+">"+A+"</a>"})),a=d.converter._dispatch("anchors.after",a,f,d),a});var y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,I=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,P=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,g=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(a){return function(f,d,p,w,E,T,A){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O=p,b="",N="",M=d||"",S=A||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&T&&(b=T),a.openLinksInNewWindow&&(N=' rel="noopener noreferrer" target="E95Eblank"'),M+'<a href="'+p+'"'+N+">"+O+"</a>"+b+S}},_=function(a,f){return function(d,p,w){var E="mailto:";return p=p||"",w=r.subParser("unescapeSpecialChars")(w,a,f),a.encodeEmails?(E=r.helper.encodeEmailAddress(E+w),w=r.helper.encodeEmailAddress(w)):E=E+w,p+'<a href="'+E+'">'+w+"</a>"}};r.subParser("autoLinks",function(a,f,d){return a=d.converter._dispatch("autoLinks.before",a,f,d),a=a.replace(P,m(f)),a=a.replace(g,_(f,d)),a=d.converter._dispatch("autoLinks.after",a,f,d),a}),r.subParser("simplifiedAutoLinks",function(a,f,d){return f.simplifiedAutoLink&&(a=d.converter._dispatch("simplifiedAutoLinks.before",a,f,d),f.excludeTrailingPunctuationFromURLs?a=a.replace(I,m(f)):a=a.replace(y,m(f)),a=a.replace(C,_(f,d)),a=d.converter._dispatch("simplifiedAutoLinks.after",a,f,d)),a}),r.subParser("blockGamut",function(a,f,d){return a=d.converter._dispatch("blockGamut.before",a,f,d),a=r.subParser("blockQuotes")(a,f,d),a=r.subParser("headers")(a,f,d),a=r.subParser("horizontalRule")(a,f,d),a=r.subParser("lists")(a,f,d),a=r.subParser("codeBlocks")(a,f,d),a=r.subParser("tables")(a,f,d),a=r.subParser("hashHTMLBlocks")(a,f,d),a=r.subParser("paragraphs")(a,f,d),a=d.converter._dispatch("blockGamut.after",a,f,d),a}),r.subParser("blockQuotes",function(a,f,d){a=d.converter._dispatch("blockQuotes.before",a,f,d),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,f,d),w=r.subParser("blockGamut")(w,f,d),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(E,T){var A=T;return A=A.replace(/^  /mg,"0"),A=A.replace(/0/g,""),A}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,f,d)}),a=d.converter._dispatch("blockQuotes.after",a,f,d),a}),r.subParser("codeBlocks",function(a,f,d){a=d.converter._dispatch("codeBlocks.before",a,f,d),a+="0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return a=a.replace(p,function(w,E,T){var A=E,O=T,b=`
`;return A=r.subParser("outdent")(A,f,d),A=r.subParser("encodeCode")(A,f,d),A=r.subParser("detab")(A,f,d),A=A.replace(/^\n+/g,""),A=A.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(b=""),A="<pre><code>"+A+b+"</code></pre>",r.subParser("hashBlock")(A,f,d)+O}),a=a.replace(/0/,""),a=d.converter._dispatch("codeBlocks.after",a,f,d),a}),r.subParser("codeSpans",function(a,f,d){return a=d.converter._dispatch("codeSpans.before",a,f,d),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,w,E,T){var A=T;return A=A.replace(/^([ \t]*)/g,""),A=A.replace(/[ \t]*$/g,""),A=r.subParser("encodeCode")(A,f,d),A=w+"<code>"+A+"</code>",A=r.subParser("hashHTMLSpans")(A,f,d),A}),a=d.converter._dispatch("codeSpans.after",a,f,d),a}),r.subParser("completeHTMLDocument",function(a,f,d){if(!f.completeHTMLDocument)return a;a=d.converter._dispatch("completeHTMLDocument.before",a,f,d);var p="html",w=`<!DOCTYPE HTML>
`,E="",T=`<meta charset="utf-8">
`,A="",O="";typeof d.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,p=d.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(T='<meta charset="utf-8">'));for(var b in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(b))switch(b.toLowerCase()){case"doctype":break;case"title":E="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?T='<meta charset="'+d.metadata.parsed.charset+`">
`:T='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":A=' lang="'+d.metadata.parsed[b]+'"',O+='<meta name="'+b+'" content="'+d.metadata.parsed[b]+`">
`;break;default:O+='<meta name="'+b+'" content="'+d.metadata.parsed[b]+`">
`}return a=w+"<html"+A+`>
<head>
`+E+T+O+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=d.converter._dispatch("completeHTMLDocument.after",a,f,d),a}),r.subParser("detab",function(a,f,d){return a=d.converter._dispatch("detab.before",a,f,d),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"AB"),a=a.replace(/B(.+?)A/g,function(p,w){for(var E=w,T=4-E.length%4,A=0;A<T;A++)E+=" ";return E}),a=a.replace(/A/g,"    "),a=a.replace(/B/g,""),a=d.converter._dispatch("detab.after",a,f,d),a}),r.subParser("ellipsis",function(a,f,d){return a=d.converter._dispatch("ellipsis.before",a,f,d),a=a.replace(/\.\.\./g,""),a=d.converter._dispatch("ellipsis.after",a,f,d),a}),r.subParser("emoji",function(a,f,d){if(!f.emoji)return a;a=d.converter._dispatch("emoji.before",a,f,d);var p=/:([\S]+?):/g;return a=a.replace(p,function(w,E){return r.helper.emojis.hasOwnProperty(E)?r.helper.emojis[E]:w}),a=d.converter._dispatch("emoji.after",a,f,d),a}),r.subParser("encodeAmpsAndAngles",function(a,f,d){return a=d.converter._dispatch("encodeAmpsAndAngles.before",a,f,d),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.converter._dispatch("encodeAmpsAndAngles.after",a,f,d),a}),r.subParser("encodeBackslashEscapes",function(a,f,d){return a=d.converter._dispatch("encodeBackslashEscapes.before",a,f,d),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeBackslashEscapes.after",a,f,d),a}),r.subParser("encodeCode",function(a,f,d){return a=d.converter._dispatch("encodeCode.before",a,f,d),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeCode.after",a,f,d),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,f,d){a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,f,d);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(E){return E.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(w,function(E){return E.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,f,d),a}),r.subParser("githubCodeBlocks",function(a,f,d){return f.ghCodeBlocks?(a=d.converter._dispatch("githubCodeBlocks.before",a,f,d),a+="0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,w,E,T){var A=f.omitExtraWLInCodeBlocks?"":`
`;return T=r.subParser("encodeCode")(T,f,d),T=r.subParser("detab")(T,f,d),T=T.replace(/^\n+/g,""),T=T.replace(/\n+$/g,""),T="<pre><code"+(E?' class="'+E+" language-"+E+'"':"")+">"+T+A+"</code></pre>",T=r.subParser("hashBlock")(T,f,d),`

G`+(d.ghCodeBlocks.push({text:p,codeblock:T})-1)+`G

`}),a=a.replace(/0/,""),d.converter._dispatch("githubCodeBlocks.after",a,f,d)):a}),r.subParser("hashBlock",function(a,f,d){return a=d.converter._dispatch("hashBlock.before",a,f,d),a=a.replace(/(^\n+|\n+$)/g,""),a=`

K`+(d.gHtmlBlocks.push(a)-1)+`K

`,a=d.converter._dispatch("hashBlock.after",a,f,d),a}),r.subParser("hashCodeTags",function(a,f,d){a=d.converter._dispatch("hashCodeTags.before",a,f,d);var p=function(w,E,T,A){var O=T+r.subParser("encodeCode")(E,f,d)+A;return"C"+(d.gHtmlSpans.push(O)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=d.converter._dispatch("hashCodeTags.after",a,f,d),a}),r.subParser("hashElement",function(a,f,d){return function(p,w){var E=w;return E=E.replace(/\n\n/g,`
`),E=E.replace(/^\n/,""),E=E.replace(/\n+$/g,""),E=`

K`+(d.gHtmlBlocks.push(E)-1)+`K

`,E}}),r.subParser("hashHTMLBlocks",function(a,f,d){a=d.converter._dispatch("hashHTMLBlocks.before",a,f,d);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(S,D,B,U){var se=S;return B.search(/\bmarkdown\b/)!==-1&&(se=B+d.converter.makeHtml(D)+U),`

K`+(d.gHtmlBlocks.push(se)-1)+`K

`};f.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(S,D){return"&lt;"+D+"&gt;"}));for(var E=0;E<p.length;++E)for(var T,A=new RegExp("^ {0,3}(<"+p[E]+"\\b[^>]*>)","im"),O="<"+p[E]+"\\b[^>]*>",b="</"+p[E]+">";(T=r.helper.regexIndexOf(a,A))!==-1;){var N=r.helper.splitAtIndex(a,T),M=r.helper.replaceRecursiveRegExp(N[1],w,O,b,"im");if(M===N[1])break;a=N[0].concat(M)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=r.helper.replaceRecursiveRegExp(a,function(S){return`

K`+(d.gHtmlBlocks.push(S)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=d.converter._dispatch("hashHTMLBlocks.after",a,f,d),a}),r.subParser("hashHTMLSpans",function(a,f,d){a=d.converter._dispatch("hashHTMLSpans.before",a,f,d);function p(w){return"C"+(d.gHtmlSpans.push(w)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(w){return p(w)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<[^>]+?>/gi,function(w){return p(w)}),a=d.converter._dispatch("hashHTMLSpans.after",a,f,d),a}),r.subParser("unhashHTMLSpans",function(a,f,d){a=d.converter._dispatch("unhashHTMLSpans.before",a,f,d);for(var p=0;p<d.gHtmlSpans.length;++p){for(var w=d.gHtmlSpans[p],E=0;/C(\d+)C/.test(w);){var T=RegExp.$1;if(w=w.replace("C"+T+"C",d.gHtmlSpans[T]),E===10){console.error("maximum nesting of 10 spans reached!!!");break}++E}a=a.replace("C"+p+"C",w)}return a=d.converter._dispatch("unhashHTMLSpans.after",a,f,d),a}),r.subParser("hashPreCodeTags",function(a,f,d){a=d.converter._dispatch("hashPreCodeTags.before",a,f,d);var p=function(w,E,T,A){var O=T+r.subParser("encodeCode")(E,f,d)+A;return`

G`+(d.ghCodeBlocks.push({text:w,codeblock:O})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=d.converter._dispatch("hashPreCodeTags.after",a,f,d),a}),r.subParser("headers",function(a,f,d){a=d.converter._dispatch("headers.before",a,f,d);var p=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),w=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,E=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(w,function(O,b){var N=r.subParser("spanGamut")(b,f,d),M=f.noHeaderId?"":' id="'+A(b)+'"',S=p,D="<h"+S+M+">"+N+"</h"+S+">";return r.subParser("hashBlock")(D,f,d)}),a=a.replace(E,function(O,b){var N=r.subParser("spanGamut")(b,f,d),M=f.noHeaderId?"":' id="'+A(b)+'"',S=p+1,D="<h"+S+M+">"+N+"</h"+S+">";return r.subParser("hashBlock")(D,f,d)});var T=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(T,function(O,b,N){var M=N;f.customizedHeaderId&&(M=N.replace(/\s?\{([^{]+?)}\s*$/,""));var S=r.subParser("spanGamut")(M,f,d),D=f.noHeaderId?"":' id="'+A(N)+'"',B=p-1+b.length,U="<h"+B+D+">"+S+"</h"+B+">";return r.subParser("hashBlock")(U,f,d)});function A(O){var b,N;if(f.customizedHeaderId){var M=O.match(/\{([^{]+?)}\s*$/);M&&M[1]&&(O=M[1])}return b=O,r.helper.isString(f.prefixHeaderId)?N=f.prefixHeaderId:f.prefixHeaderId===!0?N="section-":N="",f.rawPrefixHeaderId||(b=N+b),f.ghCompatibleHeaderId?b=b.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?b=b.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():b=b.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(b=N+b),d.hashLinkCounts[b]?b=b+"-"+d.hashLinkCounts[b]++:d.hashLinkCounts[b]=1,b}return a=d.converter._dispatch("headers.after",a,f,d),a}),r.subParser("horizontalRule",function(a,f,d){a=d.converter._dispatch("horizontalRule.before",a,f,d);var p=r.subParser("hashBlock")("<hr />",f,d);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=d.converter._dispatch("horizontalRule.after",a,f,d),a}),r.subParser("images",function(a,f,d){a=d.converter._dispatch("images.before",a,f,d);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,T=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,A=/!\[([^\[\]]+)]()()()()()/g;function O(N,M,S,D,B,U,se,R){return D=D.replace(/\s/g,""),b(N,M,S,D,B,U,se,R)}function b(N,M,S,D,B,U,se,R){var H=d.gUrls,K=d.gTitles,re=d.gDimensions;if(S=S.toLowerCase(),R||(R=""),N.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)D="";else if(D===""||D===null)if((S===""||S===null)&&(S=M.toLowerCase().replace(/ ?\n/g," ")),D="#"+S,!r.helper.isUndefined(H[S]))D=H[S],r.helper.isUndefined(K[S])||(R=K[S]),r.helper.isUndefined(re[S])||(B=re[S].width,U=re[S].height);else return N;M=M.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),D=D.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ie='<img src="'+D+'" alt="'+M+'"';return R&&r.helper.isString(R)&&(R=R.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ie+=' title="'+R+'"'),B&&U&&(B=B==="*"?"auto":B,U=U==="*"?"auto":U,ie+=' width="'+B+'"',ie+=' height="'+U+'"'),ie+=" />",ie}return a=a.replace(T,b),a=a.replace(E,O),a=a.replace(w,b),a=a.replace(p,b),a=a.replace(A,b),a=d.converter._dispatch("images.after",a,f,d),a}),r.subParser("italicsAndBold",function(a,f,d){a=d.converter._dispatch("italicsAndBold.before",a,f,d);function p(w,E,T){return E+w+T}return f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,E){return p(E,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,E){return p(E,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,E){return p(E,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/__(\S[\s\S]*?)__/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),f.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,E,T){return p(T,E+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,E,T){return p(T,E+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,E,T){return p(T,E+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),a=d.converter._dispatch("italicsAndBold.after",a,f,d),a}),r.subParser("lists",function(a,f,d){function p(T,A){d.gListLevel++,T=T.replace(/\n{2,}$/,`
`),T+="0";var O=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,b=/\n[ \t]*\n(?!0)/.test(T);return f.disableForced4SpacesIndentedSublists&&(O=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),T=T.replace(O,function(N,M,S,D,B,U,se){se=se&&se.trim()!=="";var R=r.subParser("outdent")(B,f,d),H="";return U&&f.tasklists&&(H=' class="task-list-item" style="list-style-type: none;"',R=R.replace(/^[ \t]*\[(x|X| )?]/m,function(){var K='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return se&&(K+=" checked"),K+=">",K})),R=R.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(K){return"A"+K}),M||R.search(/\n{2,}/)>-1?(R=r.subParser("githubCodeBlocks")(R,f,d),R=r.subParser("blockGamut")(R,f,d)):(R=r.subParser("lists")(R,f,d),R=R.replace(/\n$/,""),R=r.subParser("hashHTMLBlocks")(R,f,d),R=R.replace(/\n\n+/g,`

`),b?R=r.subParser("paragraphs")(R,f,d):R=r.subParser("spanGamut")(R,f,d)),R=R.replace("A",""),R="<li"+H+">"+R+`</li>
`,R}),T=T.replace(/0/g,""),d.gListLevel--,A&&(T=T.replace(/\s+$/,"")),T}function w(T,A){if(A==="ol"){var O=T.match(/^ *(\d+)\./);if(O&&O[1]!=="1")return' start="'+O[1]+'"'}return""}function E(T,A,O){var b=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,N=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,M=A==="ul"?b:N,S="";if(T.search(M)!==-1)(function B(U){var se=U.search(M),R=w(T,A);se!==-1?(S+=`

<`+A+R+`>
`+p(U.slice(0,se),!!O)+"</"+A+`>
`,A=A==="ul"?"ol":"ul",M=A==="ul"?b:N,B(U.slice(se))):S+=`

<`+A+R+`>
`+p(U,!!O)+"</"+A+`>
`})(T);else{var D=w(T,A);S=`

<`+A+D+`>
`+p(T,!!O)+"</"+A+`>
`}return S}return a=d.converter._dispatch("lists.before",a,f,d),a+="0",d.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(T,A,O){var b=O.search(/[*+-]/g)>-1?"ul":"ol";return E(A,b,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(T,A,O,b){var N=b.search(/[*+-]/g)>-1?"ul":"ol";return E(O,N,!1)}),a=a.replace(/0/,""),a=d.converter._dispatch("lists.after",a,f,d),a}),r.subParser("metadata",function(a,f,d){if(!f.metadata)return a;a=d.converter._dispatch("metadata.before",a,f,d);function p(w){d.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(E,T,A){return d.metadata.parsed[T]=A,""})}return a=a.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(w,E,T){return p(T),"M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,E,T){return E&&(d.metadata.format=E),p(T),"M"}),a=a.replace(/M/g,""),a=d.converter._dispatch("metadata.after",a,f,d),a}),r.subParser("outdent",function(a,f,d){return a=d.converter._dispatch("outdent.before",a,f,d),a=a.replace(/^(\t|[ ]{1,4})/gm,"0"),a=a.replace(/0/g,""),a=d.converter._dispatch("outdent.after",a,f,d),a}),r.subParser("paragraphs",function(a,f,d){a=d.converter._dispatch("paragraphs.before",a,f,d),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),w=[],E=p.length,T=0;T<E;T++){var A=p[T];A.search(/(K|G)(\d+)\1/g)>=0?w.push(A):A.search(/\S/)>=0&&(A=r.subParser("spanGamut")(A,f,d),A=A.replace(/^([ \t]*)/g,"<p>"),A+="</p>",w.push(A))}for(E=w.length,T=0;T<E;T++){for(var O="",b=w[T],N=!1;/(K|G)(\d+)\1/.test(b);){var M=RegExp.$1,S=RegExp.$2;M==="K"?O=d.gHtmlBlocks[S]:N?O=r.subParser("encodeCode")(d.ghCodeBlocks[S].text,f,d):O=d.ghCodeBlocks[S].codeblock,O=O.replace(/\$/g,"$$$$"),b=b.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,O),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(b)&&(N=!0)}w[T]=b}return a=w.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",a,f,d)}),r.subParser("runExtension",function(a,f,d,p){if(a.filter)f=a.filter(f,p.converter,d);else if(a.regex){var w=a.regex;w instanceof RegExp||(w=new RegExp(w,"g")),f=f.replace(w,a.replace)}return f}),r.subParser("spanGamut",function(a,f,d){return a=d.converter._dispatch("spanGamut.before",a,f,d),a=r.subParser("codeSpans")(a,f,d),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,f,d),a=r.subParser("encodeBackslashEscapes")(a,f,d),a=r.subParser("images")(a,f,d),a=r.subParser("anchors")(a,f,d),a=r.subParser("autoLinks")(a,f,d),a=r.subParser("simplifiedAutoLinks")(a,f,d),a=r.subParser("emoji")(a,f,d),a=r.subParser("underline")(a,f,d),a=r.subParser("italicsAndBold")(a,f,d),a=r.subParser("strikethrough")(a,f,d),a=r.subParser("ellipsis")(a,f,d),a=r.subParser("hashHTMLSpans")(a,f,d),a=r.subParser("encodeAmpsAndAngles")(a,f,d),f.simpleLineBreaks?/\n\nK/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=d.converter._dispatch("spanGamut.after",a,f,d),a}),r.subParser("strikethrough",function(a,f,d){function p(w){return f.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,f,d)),"<del>"+w+"</del>"}return f.strikethrough&&(a=d.converter._dispatch("strikethrough.before",a,f,d),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,E){return p(E)}),a=d.converter._dispatch("strikethrough.after",a,f,d)),a}),r.subParser("stripLinkDefinitions",function(a,f,d){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,w=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;a+="0";var E=function(T,A,O,b,N,M,S){return A=A.toLowerCase(),O.match(/^data:.+?\/.+?;base64,/)?d.gUrls[A]=O.replace(/\s/g,""):d.gUrls[A]=r.subParser("encodeAmpsAndAngles")(O,f,d),M?M+S:(S&&(d.gTitles[A]=S.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&b&&N&&(d.gDimensions[A]={width:b,height:N}),"")};return a=a.replace(w,E),a=a.replace(p,E),a=a.replace(/0/,""),a}),r.subParser("tables",function(a,f,d){if(!f.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function E(N){return/^:[ \t]*--*$/.test(N)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(N)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(N)?' style="text-align:center;"':""}function T(N,M){var S="";return N=N.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(S=' id="'+N.replace(/ /g,"_").toLowerCase()+'"'),N=r.subParser("spanGamut")(N,f,d),"<th"+S+M+">"+N+`</th>
`}function A(N,M){var S=r.subParser("spanGamut")(N,f,d);return"<td"+M+">"+S+`</td>
`}function O(N,M){for(var S=`<table>
<thead>
<tr>
`,D=N.length,B=0;B<D;++B)S+=N[B];for(S+=`</tr>
</thead>
<tbody>
`,B=0;B<M.length;++B){S+=`<tr>
`;for(var U=0;U<D;++U)S+=M[B][U];S+=`</tr>
`}return S+=`</tbody>
</table>
`,S}function b(N){var M,S=N.split(`
`);for(M=0;M<S.length;++M)/^ {0,3}\|/.test(S[M])&&(S[M]=S[M].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(S[M])&&(S[M]=S[M].replace(/\|[ \t]*$/,"")),S[M]=r.subParser("codeSpans")(S[M],f,d);var D=S[0].split("|").map(function(ie){return ie.trim()}),B=S[1].split("|").map(function(ie){return ie.trim()}),U=[],se=[],R=[],H=[];for(S.shift(),S.shift(),M=0;M<S.length;++M)S[M].trim()!==""&&U.push(S[M].split("|").map(function(ie){return ie.trim()}));if(D.length<B.length)return N;for(M=0;M<B.length;++M)R.push(E(B[M]));for(M=0;M<D.length;++M)r.helper.isUndefined(R[M])&&(R[M]=""),se.push(T(D[M],R[M]));for(M=0;M<U.length;++M){for(var K=[],re=0;re<se.length;++re)r.helper.isUndefined(U[M][re]),K.push(A(U[M][re],R[re]));H.push(K)}return O(se,H)}return a=d.converter._dispatch("tables.before",a,f,d),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,b),a=a.replace(w,b),a=d.converter._dispatch("tables.after",a,f,d),a}),r.subParser("underline",function(a,f,d){return f.underline&&(a=d.converter._dispatch("underline.before",a,f,d),f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,w){return"<u>"+w+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,w){return"<u>"+w+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("underline.after",a,f,d)),a}),r.subParser("unescapeSpecialChars",function(a,f,d){return a=d.converter._dispatch("unescapeSpecialChars.before",a,f,d),a=a.replace(/E(\d+)E/g,function(p,w){var E=parseInt(w);return String.fromCharCode(E)}),a=d.converter._dispatch("unescapeSpecialChars.after",a,f,d),a}),r.subParser("makeMarkdown.blockquote",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E){var T=r.subParser("makeMarkdown.node")(p[E],f);T!==""&&(d+=T)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(a,f){var d=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+d+`
`+f.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,f){var d="";if(a.hasChildNodes()){d+="*";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="*"}return d}),r.subParser("makeMarkdown.header",function(a,f,d){var p=new Array(d+1).join("#"),w="";if(a.hasChildNodes()){w=p+" ";for(var E=a.childNodes,T=E.length,A=0;A<T;++A)w+=r.subParser("makeMarkdown.node")(E[A],f)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var f="";return a.hasAttribute("src")&&(f+="!["+a.getAttribute("alt")+"](",f+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(f+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(f+=' "'+a.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(a,f){var d="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,w=p.length;d="[";for(var E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="](",d+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(d+=' "'+a.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(a,f,d){var p="";if(!a.hasChildNodes())return"";for(var w=a.childNodes,E=w.length,T=a.getAttribute("start")||1,A=0;A<E;++A)if(!(typeof w[A].tagName>"u"||w[A].tagName.toLowerCase()!=="li")){var O="";d==="ol"?O=T.toString()+". ":O="- ",p+=O+r.subParser("makeMarkdown.listItem")(w[A],f),++T}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,f){for(var d="",p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(a,f,d){d=d||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,f);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var w=a.tagName.toLowerCase();switch(w){case"h1":d||(p=r.subParser("makeMarkdown.header")(a,f,1)+`

`);break;case"h2":d||(p=r.subParser("makeMarkdown.header")(a,f,2)+`

`);break;case"h3":d||(p=r.subParser("makeMarkdown.header")(a,f,3)+`

`);break;case"h4":d||(p=r.subParser("makeMarkdown.header")(a,f,4)+`

`);break;case"h5":d||(p=r.subParser("makeMarkdown.header")(a,f,5)+`

`);break;case"h6":d||(p=r.subParser("makeMarkdown.header")(a,f,6)+`

`);break;case"p":d||(p=r.subParser("makeMarkdown.paragraph")(a,f)+`

`);break;case"blockquote":d||(p=r.subParser("makeMarkdown.blockquote")(a,f)+`

`);break;case"hr":d||(p=r.subParser("makeMarkdown.hr")(a,f)+`

`);break;case"ol":d||(p=r.subParser("makeMarkdown.list")(a,f,"ol")+`

`);break;case"ul":d||(p=r.subParser("makeMarkdown.list")(a,f,"ul")+`

`);break;case"precode":d||(p=r.subParser("makeMarkdown.codeBlock")(a,f)+`

`);break;case"pre":d||(p=r.subParser("makeMarkdown.pre")(a,f)+`

`);break;case"table":d||(p=r.subParser("makeMarkdown.table")(a,f)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,f);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,f);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,f);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,f);break;case"a":p=r.subParser("makeMarkdown.links")(a,f);break;case"img":p=r.subParser("makeMarkdown.image")(a,f);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(a,f){var d=a.getAttribute("prenum");return"<pre>"+f.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,f){var d="";if(a.hasChildNodes()){d+="~~";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(a,f){var d="";if(a.hasChildNodes()){d+="**";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="**"}return d}),r.subParser("makeMarkdown.table",function(a,f){var d="",p=[[],[]],w=a.querySelectorAll("thead>tr>th"),E=a.querySelectorAll("tbody>tr"),T,A;for(T=0;T<w.length;++T){var O=r.subParser("makeMarkdown.tableCell")(w[T],f),b="---";if(w[T].hasAttribute("style")){var N=w[T].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(N){case"text-align:left;":b=":---";break;case"text-align:right;":b="---:";break;case"text-align:center;":b=":---:";break}}p[0][T]=O.trim(),p[1][T]=b}for(T=0;T<E.length;++T){var M=p.push([])-1,S=E[T].getElementsByTagName("td");for(A=0;A<w.length;++A){var D=" ";typeof S[A]<"u"&&(D=r.subParser("makeMarkdown.tableCell")(S[A],f)),p[M].push(D)}}var B=3;for(T=0;T<p.length;++T)for(A=0;A<p[T].length;++A){var U=p[T][A].length;U>B&&(B=U)}for(T=0;T<p.length;++T){for(A=0;A<p[T].length;++A)T===1?p[T][A].slice(-1)===":"?p[T][A]=r.helper.padEnd(p[T][A].slice(-1),B-1,"-")+":":p[T][A]=r.helper.padEnd(p[T][A],B,"-"):p[T][A]=r.helper.padEnd(p[T][A],B);d+="| "+p[T].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(a,f){var d="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(a){var f=a.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var k=this;t.exports?t.exports=r:k.showdown=r}).call(te)})(L_);var tE=L_.exports;const nE=Ws(tE);function rE({tempNoteText:t,setTempNoteText:e}){const[n,r]=nn.useState("write"),i=new nE.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Me.jsx("section",{className:"pane editor",children:Me.jsx(eE,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var x_={exports:{}},iE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sE=iE,oE=sE;function z_(){}function j_(){}j_.resetWarningCache=z_;var aE=function(){function t(r,i,s,o,u,l){if(l!==oE){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j_,resetWarningCache:z_};return n.PropTypes=n,n};x_.exports=aE();var uE=x_.exports;const fe=Ws(uE);var yt=typeof window<"u"?window:null,of=yt===null,Ps=of?void 0:yt.document,Dt="addEventListener",Nt="removeEventListener",Rl="getBoundingClientRect",xi="_a",Mt="_b",tn="_c",Lo="horizontal",Vt=function(){return!1},lE=of?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Ps.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",F_=function(t){return typeof t=="string"||t instanceof String},Pp=function(t){if(F_(t)){var e=Ps.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ye=function(t,e,n){var r=t[e];return r!==void 0?r:n},xo=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},cE=function(t,e){var n=Ps.createElement("div");return n.className="gutter gutter-"+e,n},dE=function(t,e,n){var r={};return F_(e)?r[t]=e:r[t]=lE+"("+e+"% - "+n+"px)",r},fE=function(t,e){var n;return n={},n[t]=e+"px",n},Rp=function(t,e){if(e===void 0&&(e={}),of)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var c=Pp(n[0]),h=c.parentNode,v=getComputedStyle?getComputedStyle(h):null,y=v?v.flexDirection:null,I=Ye(e,"sizes")||n.map(function(){return 100/n.length}),P=Ye(e,"minSize",100),C=Array.isArray(P)?P:n.map(function(){return P}),g=Ye(e,"maxSize",1/0),m=Array.isArray(g)?g:n.map(function(){return g}),_=Ye(e,"expandToMin",!1),k=Ye(e,"gutterSize",10),a=Ye(e,"gutterAlign","center"),f=Ye(e,"snapOffset",30),d=Array.isArray(f)?f:n.map(function(){return f}),p=Ye(e,"dragInterval",1),w=Ye(e,"direction",Lo),E=Ye(e,"cursor",w===Lo?"col-resize":"row-resize"),T=Ye(e,"gutter",cE),A=Ye(e,"elementStyle",dE),O=Ye(e,"gutterStyle",fE);w===Lo?(r="width",i="clientX",s="left",o="right",u="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function b(j,V,F,G){var Pe=A(r,V,F,G);Object.keys(Pe).forEach(function(Te){j.style[Te]=Pe[Te]})}function N(j,V,F){var G=O(r,V,F);Object.keys(G).forEach(function(Pe){j.style[Pe]=G[Pe]})}function M(){return l.map(function(j){return j.size})}function S(j){return"touches"in j?j.touches[0][i]:j[i]}function D(j){var V=l[this.a],F=l[this.b],G=V.size+F.size;V.size=j/this.size*G,F.size=G-j/this.size*G,b(V.element,V.size,this[Mt],V.i),b(F.element,F.size,this[tn],F.i)}function B(j){var V,F=l[this.a],G=l[this.b];this.dragging&&(V=S(j)-this.start+(this[Mt]-this.dragOffset),p>1&&(V=Math.round(V/p)*p),V<=F.minSize+F.snapOffset+this[Mt]?V=F.minSize+this[Mt]:V>=this.size-(G.minSize+G.snapOffset+this[tn])&&(V=this.size-(G.minSize+this[tn])),V>=F.maxSize-F.snapOffset+this[Mt]?V=F.maxSize+this[Mt]:V<=this.size-(G.maxSize-G.snapOffset+this[tn])&&(V=this.size-(G.maxSize+this[tn])),D.call(this,V),Ye(e,"onDrag",Vt)(M()))}function U(){var j=l[this.a].element,V=l[this.b].element,F=j[Rl](),G=V[Rl]();this.size=F[r]+G[r]+this[Mt]+this[tn],this.start=F[s],this.end=F[o]}function se(j){if(!getComputedStyle)return null;var V=getComputedStyle(j);if(!V)return null;var F=j[u];return F===0?null:(w===Lo?F-=parseFloat(V.paddingLeft)+parseFloat(V.paddingRight):F-=parseFloat(V.paddingTop)+parseFloat(V.paddingBottom),F)}function R(j){var V=se(h);if(V===null||C.reduce(function(Te,pt){return Te+pt},0)>V)return j;var F=0,G=[],Pe=j.map(function(Te,pt){var qn=V*Te/100,wo=xo(k,pt===0,pt===j.length-1,a),Eo=C[pt]+wo;return qn<Eo?(F+=Eo-qn,G.push(0),Eo):(G.push(qn-Eo),qn)});return F===0?j:Pe.map(function(Te,pt){var qn=Te;if(F>0&&G[pt]-F>0){var wo=Math.min(F,G[pt]-F);F-=wo,qn=Te-wo}return qn/V*100})}function H(){var j=this,V=l[j.a].element,F=l[j.b].element;j.dragging&&Ye(e,"onDragEnd",Vt)(M()),j.dragging=!1,yt[Nt]("mouseup",j.stop),yt[Nt]("touchend",j.stop),yt[Nt]("touchcancel",j.stop),yt[Nt]("mousemove",j.move),yt[Nt]("touchmove",j.move),j.stop=null,j.move=null,V[Nt]("selectstart",Vt),V[Nt]("dragstart",Vt),F[Nt]("selectstart",Vt),F[Nt]("dragstart",Vt),V.style.userSelect="",V.style.webkitUserSelect="",V.style.MozUserSelect="",V.style.pointerEvents="",F.style.userSelect="",F.style.webkitUserSelect="",F.style.MozUserSelect="",F.style.pointerEvents="",j.gutter.style.cursor="",j.parent.style.cursor="",Ps.body.style.cursor=""}function K(j){if(!("button"in j&&j.button!==0)){var V=this,F=l[V.a].element,G=l[V.b].element;V.dragging||Ye(e,"onDragStart",Vt)(M()),j.preventDefault(),V.dragging=!0,V.move=B.bind(V),V.stop=H.bind(V),yt[Dt]("mouseup",V.stop),yt[Dt]("touchend",V.stop),yt[Dt]("touchcancel",V.stop),yt[Dt]("mousemove",V.move),yt[Dt]("touchmove",V.move),F[Dt]("selectstart",Vt),F[Dt]("dragstart",Vt),G[Dt]("selectstart",Vt),G[Dt]("dragstart",Vt),F.style.userSelect="none",F.style.webkitUserSelect="none",F.style.MozUserSelect="none",F.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",V.gutter.style.cursor=E,V.parent.style.cursor=E,Ps.body.style.cursor=E,U.call(V),V.dragOffset=S(j)-V.end}}I=R(I);var re=[];l=n.map(function(j,V){var F={element:Pp(j),size:I[V],minSize:C[V],maxSize:m[V],snapOffset:d[V],i:V},G;if(V>0&&(G={a:V-1,b:V,dragging:!1,direction:w,parent:h},G[Mt]=xo(k,V-1===0,!1,a),G[tn]=xo(k,!1,V===n.length-1,a),y==="row-reverse"||y==="column-reverse")){var Pe=G.a;G.a=G.b,G.b=Pe}if(V>0){var Te=T(V,w,F.element);N(Te,k,V),G[xi]=K.bind(G),Te[Dt]("mousedown",G[xi]),Te[Dt]("touchstart",G[xi]),h.insertBefore(Te,F.element),G.gutter=Te}return b(F.element,F.size,xo(k,V===0,V===n.length-1,a),V),V>0&&re.push(G),F});function ie(j){var V=j.i===re.length,F=V?re[j.i-1]:re[j.i];U.call(F);var G=V?F.size-j.minSize-F[tn]:j.minSize+F[Mt];D.call(F,G)}l.forEach(function(j){var V=j.element[Rl]()[r];V<j.minSize&&(_?ie(j):j.minSize=V)});function me(j){var V=R(j);V.forEach(function(F,G){if(G>0){var Pe=re[G-1],Te=l[Pe.a],pt=l[Pe.b];Te.size=V[G-1],pt.size=F,b(Te.element,Te.size,Pe[Mt],Te.i),b(pt.element,pt.size,Pe[tn],pt.i)}})}function Ee(j,V){re.forEach(function(F){if(V!==!0?F.parent.removeChild(F.gutter):(F.gutter[Nt]("mousedown",F[xi]),F.gutter[Nt]("touchstart",F[xi])),j!==!0){var G=A(r,F.a.size,F[Mt]);Object.keys(G).forEach(function(Pe){l[F.a].element.style[Pe]="",l[F.b].element.style[Pe]=""})}})}return{setSizes:me,getSizes:M,collapse:function(V){ie(l[V])},destroy:Ee,parent:h,pairs:re}};function bl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var af=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=bl(r,["children","gutter"]),o=s;o.gutter=function(u,l){var c;return i?c=i(u,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=Rp(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,c=bl(s,["children","minSize","sizes","collapsed"]),h=c,v=r.minSize,y=r.sizes,I=r.collapsed,P=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],C=P.map(function(_){return i.props[_]!==r[_]}).reduce(function(_,k){return _||k},!1);if(Array.isArray(o)&&Array.isArray(v)){var g=!1;o.forEach(function(_,k){g=g||_!==v[k]}),C=C||g}else Array.isArray(o)||Array.isArray(v)?C=!0:C=C||o!==v;if(C)h.minSize=o,h.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(_,k,a){return a.previousSibling},this.split=Rp(Array.from(this.parent.children).filter(function(_){return!_.__isSplitGutter}),h);else if(u){var m=!1;u.forEach(function(_,k){m=m||_!==y[k]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==I||C)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=bl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return nn.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(nn.Component);af.propTypes={sizes:fe.arrayOf(fe.number),minSize:fe.oneOfType([fe.number,fe.arrayOf(fe.number)]),maxSize:fe.oneOfType([fe.number,fe.arrayOf(fe.number)]),expandToMin:fe.bool,gutterSize:fe.number,gutterAlign:fe.string,snapOffset:fe.number,dragInterval:fe.number,direction:fe.string,cursor:fe.string,gutter:fe.func,elementStyle:fe.func,gutterStyle:fe.func,onDrag:fe.func,onDragStart:fe.func,onDragEnd:fe.func,collapsed:fe.number,children:fe.arrayOf(fe.element)};af.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,v=(s&3)<<4|u>>4;let y=(u&15)<<2|c>>6,I=c&63;l||(I=64,o||(y=64)),r.push(n[h],n[v],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||v==null)throw new pE;const y=s<<2|u>>4;if(r.push(y),c!==64){const I=u<<4&240|c>>2;if(r.push(I),v!==64){const P=c<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mE=function(t){const e=$_(t);return B_.encodeByteArray(e,!0)},ba=function(t){return mE(t).replace(/\./g,"")},gE=function(t){try{return B_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=()=>_E().__FIREBASE_DEFAULTS__,yE=()=>{if(typeof process>"u"||typeof bp>"u")return;const t=bp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gE(t[1]);return e&&JSON.parse(e)},U_=()=>{try{return vE()||yE()||wE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EE=t=>{var e,n;return(n=(e=U_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TE=t=>{const e=EE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H_=()=>{var t;return(t=U_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ba(JSON.stringify(n)),ba(JSON.stringify(o)),""].join(".")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AE,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q_.prototype.create)}}class q_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PE(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new _i(i,u,r)}}function PE(t,e){return t.replace(RE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RE=/\{\$([^}]+)}/g;function Mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dp(s)&&Dp(o)){if(!Mc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NE(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DE(t){return t===Gn?void 0:t}function NE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const VE={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},OE=ue.INFO,LE={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},xE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W_{constructor(e){this.name=e,this._logLevel=OE,this._logHandler=xE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const zE=(t,e)=>e.some(n=>t instanceof n);let Np,Mp;function jE(){return Np||(Np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FE(){return Mp||(Mp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K_=new WeakMap,Vc=new WeakMap,G_=new WeakMap,Dl=new WeakMap,uf=new WeakMap;function $E(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&K_.set(n,t)}).catch(()=>{}),uf.set(e,t),e}function BE(t){if(Vc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vc.set(t,e)}let Oc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||G_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UE(t){Oc=t(Oc)}function HE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nl(this),e,...n);return G_.set(r,e.sort?e.sort():[e]),bn(r)}:FE().includes(t)?function(...e){return t.apply(Nl(this),e),bn(K_.get(this))}:function(...e){return bn(t.apply(Nl(this),e))}}function qE(t){return typeof t=="function"?HE(t):(t instanceof IDBTransaction&&BE(t),zE(t,jE())?new Proxy(t,Oc):t)}function bn(t){if(t instanceof IDBRequest)return $E(t);if(Dl.has(t))return Dl.get(t);const e=qE(t);return e!==t&&(Dl.set(t,e),uf.set(e,t)),e}const Nl=t=>uf.get(t);function WE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=bn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bn(o.result),l.oldVersion,l.newVersion,bn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const KE=["get","getKey","getAll","getAllKeys","count"],GE=["put","add","delete","clear"],Ml=new Map;function Vp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ml.get(e))return Ml.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KE.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&l.done]))[0]};return Ml.set(e,s),s}UE(t=>({...t,get:(e,n,r)=>Vp(e,n)||t.get(e,n,r),has:(e,n)=>!!Vp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lc="@firebase/app",Op="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new W_("@firebase/app"),XE="@firebase/app-compat",JE="@firebase/analytics-compat",ZE="@firebase/analytics",e8="@firebase/app-check-compat",t8="@firebase/app-check",n8="@firebase/auth",r8="@firebase/auth-compat",i8="@firebase/database",s8="@firebase/database-compat",o8="@firebase/functions",a8="@firebase/functions-compat",u8="@firebase/installations",l8="@firebase/installations-compat",c8="@firebase/messaging",d8="@firebase/messaging-compat",f8="@firebase/performance",h8="@firebase/performance-compat",p8="@firebase/remote-config",m8="@firebase/remote-config-compat",g8="@firebase/storage",_8="@firebase/storage-compat",v8="@firebase/firestore",y8="@firebase/firestore-compat",w8="firebase",E8="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]",T8={[Lc]:"fire-core",[XE]:"fire-core-compat",[ZE]:"fire-analytics",[JE]:"fire-analytics-compat",[t8]:"fire-app-check",[e8]:"fire-app-check-compat",[n8]:"fire-auth",[r8]:"fire-auth-compat",[i8]:"fire-rtdb",[s8]:"fire-rtdb-compat",[o8]:"fire-fn",[a8]:"fire-fn-compat",[u8]:"fire-iid",[l8]:"fire-iid-compat",[c8]:"fire-fcm",[d8]:"fire-fcm-compat",[f8]:"fire-perf",[h8]:"fire-perf-compat",[p8]:"fire-rc",[m8]:"fire-rc-compat",[g8]:"fire-gcs",[_8]:"fire-gcs-compat",[v8]:"fire-fst",[y8]:"fire-fst-compat","fire-js":"fire-js",[w8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map,zc=new Map;function S8(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(zc.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;zc.set(e,t);for(const n of Da.values())S8(n,t);return!0}function k8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Dn=new q_("app","Firebase",C8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=E8;function Q_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(n||(n=H_()),!n)throw Dn.create("no-options");const s=Da.get(i);if(s){if(Mc(n,s.options)&&Mc(r,s.config))return s;throw Dn.create("duplicate-app",{appName:i})}const o=new ME(i);for(const l of zc.values())o.addComponent(l);const u=new I8(n,r,o);return Da.set(i,u),u}function P8(t=xc){const e=Da.get(t);if(!e&&t===xc&&H_())return Q_();if(!e)throw Dn.create("no-app",{appName:t});return e}function Wr(t,e,n){var r;let i=(r=T8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(u.join(" "));return}Na(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="firebase-heartbeat-database",b8=1,bs="firebase-heartbeat-store";let Vl=null;function Y_(){return Vl||(Vl=WE(R8,b8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bs)}}}).catch(t=>{throw Dn.create("idb-open",{originalErrorMessage:t.message})})),Vl}async function D8(t){try{return await(await Y_()).transaction(bs).objectStore(bs).get(X_(t))}catch(e){if(e instanceof _i)lr.warn(e.message);else{const n=Dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function Lp(t,e){try{const r=(await Y_()).transaction(bs,"readwrite");await r.objectStore(bs).put(e,X_(t)),await r.done}catch(n){if(n instanceof _i)lr.warn(n.message);else{const r=Dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(r.message)}}}function X_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=1024,M8=30*24*60*60*1e3;class V8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=M8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xp(),{heartbeatsToSend:r,unsentEntries:i}=O8(this._heartbeatsCache.heartbeats),s=ba(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function xp(){return new Date().toISOString().substring(0,10)}function O8(t,e=N8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?IE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await D8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zp(t){return ba(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){Na(new Rs("platform-logger",e=>new QE(e),"PRIVATE")),Na(new Rs("heartbeat",e=>new V8(e),"PRIVATE")),Wr(Lc,Op,t),Wr(Lc,Op,"esm2017"),Wr("fire-js","")}x8("");var z8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,lf=lf||{},Z=z8||self;function Cu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function so(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function j8(t){return Object.prototype.hasOwnProperty.call(t,Ol)&&t[Ol]||(t[Ol]=++F8)}var Ol="closure_uid_"+(1e9*Math.random()>>>0),F8=0;function $8(t,e,n){return t.call.apply(t.bind,arguments)}function B8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rt=$8:rt=B8,rt.apply(null,arguments)}function zo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function $e(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function Un(){this.s=this.s,this.o=this.o}var U8=0;Un.prototype.s=!1;Un.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),U8!=0)&&j8(this)};Un.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var H8=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Z.addEventListener("test",n,e),Z.removeEventListener("test",n,e)}catch{}return t}();function Ds(t){return/^[\s\xa0]*$/.test(t)}function Iu(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function jt(t){return Iu().indexOf(t)!=-1}function df(t){return df[" "](t),t}df[" "]=function(){};function q8(t,e){var n=xT;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var W8=jt("Opera"),ni=jt("Trident")||jt("MSIE"),Z_=jt("Edge"),jc=Z_||ni,ev=jt("Gecko")&&!(Iu().toLowerCase().indexOf("webkit")!=-1&&!jt("Edge"))&&!(jt("Trident")||jt("MSIE"))&&!jt("Edge"),K8=Iu().toLowerCase().indexOf("webkit")!=-1&&!jt("Edge");function tv(){var t=Z.document;return t?t.documentMode:void 0}var Fc;e:{var Ll="",xl=function(){var t=Iu();if(ev)return/rv:([^\);]+)(\)|;)/.exec(t);if(Z_)return/Edge\/([\d\.]+)/.exec(t);if(ni)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(K8)return/WebKit\/(\S+)/.exec(t);if(W8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xl&&(Ll=xl?xl[1]:""),ni){var zl=tv();if(zl!=null&&zl>parseFloat(Ll)){Fc=String(zl);break e}}Fc=Ll}var $c;if(Z.document&&ni){var Fp=tv();$c=Fp||parseInt(Fc,10)||void 0}else $c=void 0;var G8=$c;function Ns(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ev){e:{try{df(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Q8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ns.$.h.call(this)}}$e(Ns,it);var Q8={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oo="closure_listenable_"+(1e6*Math.random()|0),Y8=0;function X8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Y8,this.fa=this.ia=!1}function Au(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ff(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function J8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function nv(t){const e={};for(const n in t)e[n]=t[n];return e}const $p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<$p.length;s++)n=$p[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pu(t){this.src=t,this.g={},this.h=0}Pu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Uc(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new X8(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Bc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=J_(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Au(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Uc(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var hf="closure_lm_"+(1e6*Math.random()|0),jl={};function iv(t,e,n,r,i){if(r&&r.once)return ov(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iv(t,e[s],n,r,i);return null}return n=gf(n),t&&t[oo]?t.O(e,n,so(r)?!!r.capture:!!r,i):sv(t,e,n,!1,r,i)}function sv(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=so(i)?!!i.capture:!!i,u=mf(t);if(u||(t[hf]=u=new Pu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=Z8(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)H8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Z8(){function t(n){return e.call(t.src,t.listener,n)}const e=eT;return t}function ov(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ov(t,e[s],n,r,i);return null}return n=gf(n),t&&t[oo]?t.P(e,n,so(r)?!!r.capture:!!r,i):sv(t,e,n,!0,r,i)}function av(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)av(t,e[s],n,r,i);else r=so(r)?!!r.capture:!!r,n=gf(n),t&&t[oo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Uc(s,n,r,i),-1<n&&(Au(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=mf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Uc(e,n,r,i)),(n=-1<t?e[t]:null)&&pf(n))}function pf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[oo])Bc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mf(e))?(Bc(n,t),n.h==0&&(n.src=null,e[hf]=null)):Au(t)}}}function uv(t){return t in jl?jl[t]:jl[t]="on"+t}function eT(t,e){if(t.fa)t=!0;else{e=new Ns(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pf(t),t=n.call(r,e)}return t}function mf(t){return t=t[hf],t instanceof Pu?t:null}var Fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(t){return typeof t=="function"?t:(t[Fl]||(t[Fl]=function(e){return t.handleEvent(e)}),t[Fl])}function Fe(){Un.call(this),this.i=new Pu(this),this.S=this,this.J=null}$e(Fe,Un);Fe.prototype[oo]=!0;Fe.prototype.removeEventListener=function(t,e,n,r){av(this,t,e,n,r)};function Ke(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var i=e;e=new it(r,t),rv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=jo(o,r,!0,e)&&i}if(o=e.g=t,i=jo(o,r,!0,e)&&i,i=jo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=jo(o,r,!1,e)&&i}Fe.prototype.N=function(){if(Fe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Au(n[r]);delete t.g[e],t.h--}}this.J=null};Fe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Fe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function jo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&Bc(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var _f=Z.JSON.stringify;class tT{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function nT(){var t=vf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rT{constructor(){this.h=this.g=null}add(e,n){const r=lv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lv=new tT(()=>new iT,t=>t.reset());class iT{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sT(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oT(t){Z.setTimeout(()=>{throw t},0)}let Ms,Vs=!1,vf=new rT,cv=()=>{const t=Z.Promise.resolve(void 0);Ms=()=>{t.then(aT)}};var aT=()=>{for(var t;t=nT();){try{t.h.call(t.g)}catch(n){oT(n)}var e=lv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vs=!1};function Ru(t,e){Fe.call(this),this.h=t||1,this.g=e||Z,this.j=rt(this.qb,this),this.l=Date.now()}$e(Ru,Fe);$=Ru.prototype;$.ga=!1;$.T=null;$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ke(this,"tick"),this.ga&&(yf(this),this.start()))}};$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}$.N=function(){Ru.$.N.call(this),yf(this),delete this.g};function wf(t,e,n){if(typeof t=="function")n&&(t=rt(t,n));else if(t&&typeof t.handleEvent=="function")t=rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function dv(t){t.g=wf(()=>{t.g=null,t.i&&(t.i=!1,dv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class uT extends Un{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dv(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(t){Un.call(this),this.h=t,this.g={}}$e(Os,Un);var Bp=[];function fv(t,e,n,r){Array.isArray(n)||(n&&(Bp[0]=n.toString()),n=Bp);for(var i=0;i<n.length;i++){var s=iv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function hv(t){ff(t.g,function(e,n){this.g.hasOwnProperty(n)&&pf(e)},t),t.g={}}Os.prototype.N=function(){Os.$.N.call(this),hv(this)};Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bu(){this.g=!0}bu.prototype.Ea=function(){this.g=!1};function lT(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var c=u[l].split("=");if(1<c.length){var h=c[0];c=c[1];var v=h.split("_");o=2<=v.length&&v[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function cT(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Or(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+fT(t,n)+(r?" "+r:"")})}function dT(t,e){t.info(function(){return"TIMEOUT: "+e})}bu.prototype.info=function(){};function fT(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _f(n)}catch{return e}}var _r={},Up=null;function Du(){return Up=Up||new Fe}_r.Ta="serverreachability";function pv(t){it.call(this,_r.Ta,t)}$e(pv,it);function Ls(t){const e=Du();Ke(e,new pv(e))}_r.STAT_EVENT="statevent";function mv(t,e){it.call(this,_r.STAT_EVENT,t),this.stat=e}$e(mv,it);function at(t){const e=Du();Ke(e,new mv(e,t))}_r.Ua="timingevent";function gv(t,e){it.call(this,_r.Ua,t),this.size=e}$e(gv,it);function ao(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Nu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_v={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ef(){}Ef.prototype.h=null;function Hp(t){return t.h||(t.h=t.i())}function vv(){}var uo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tf(){it.call(this,"d")}$e(Tf,it);function Sf(){it.call(this,"c")}$e(Sf,it);var Hc;function Mu(){}$e(Mu,Ef);Mu.prototype.g=function(){return new XMLHttpRequest};Mu.prototype.i=function(){return{}};Hc=new Mu;function lo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Os(this),this.P=hT,t=jc?125:void 0,this.V=new Ru(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yv}function yv(){this.i=null,this.g="",this.h=!1}var hT=45e3,wv={},qc={};$=lo.prototype;$.setTimeout=function(t){this.P=t};function Wc(t,e,n){t.L=1,t.A=Ou(dn(e)),t.u=n,t.S=!0,Ev(t,null)}function Ev(t,e){t.G=Date.now(),co(t),t.B=dn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Rv(n.i,"t",r),t.o=0,n=t.l.J,t.h=new yv,t.g=Yv(t.l,n?e:null,!t.u),0<t.O&&(t.M=new uT(rt(t.Pa,t,t.g),t.O)),fv(t.U,t.g,"readystatechange",t.nb),e=t.I?nv(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ls(),lT(t.j,t.v,t.B,t.m,t.W,t.u)}$.nb=function(t){t=t.target;const e=this.M;e&&Ut(t)==3?e.l():this.Pa(t)};$.Pa=function(t){try{if(t==this.g)e:{const h=Ut(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>h)&&(h!=3||jc||this.g&&(this.h.h||this.g.ja()||Gp(this.g)))){this.J||h!=4||e==7||(e==8||0>=v?Ls(3):Ls(2)),Vu(this);var n=this.g.da();this.ca=n;t:if(Tv(this)){var r=Gp(this.g);t="";var i=r.length,s=Ut(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),ls(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cT(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ds(u)){var c=u;break t}}c=null}if(n=c)Or(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kc(this,n);else{this.i=!1,this.s=3,at(12),er(this),ls(this);break e}}this.S?(Sv(this,h,o),jc&&this.i&&h==3&&(fv(this.U,this.V,"tick",this.mb),this.V.start())):(Or(this.j,this.m,o,null),Kc(this,o)),h==4&&er(this),this.i&&!this.J&&(h==4?Wv(this.l,this):(this.i=!1,co(this)))}else VT(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),er(this),ls(this)}}}catch{}finally{}};function Tv(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Sv(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=pT(t,n),i==qc){e==4&&(t.s=4,at(14),r=!1),Or(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wv){t.s=4,at(15),Or(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Or(t.j,t.m,i,null),Kc(t,i);Tv(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,at(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rf(e),e.M=!0,at(11))):(Or(t.j,t.m,n,"[Invalid Chunked Response]"),er(t),ls(t))}$.mb=function(){if(this.g){var t=Ut(this.g),e=this.g.ja();this.o<e.length&&(Vu(this),Sv(this,t,e),this.i&&t!=4&&co(this))}};function pT(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?qc:(n=Number(e.substring(n,r)),isNaN(n)?wv:(r+=1,r+n>e.length?qc:(e=e.slice(r,r+n),t.o=r+n,e)))}$.cancel=function(){this.J=!0,er(this)};function co(t){t.Y=Date.now()+t.P,kv(t,t.P)}function kv(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ao(rt(t.lb,t),e)}function Vu(t){t.C&&(Z.clearTimeout(t.C),t.C=null)}$.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(dT(this.j,this.B),this.L!=2&&(Ls(),at(17)),er(this),this.s=2,ls(this)):kv(this,this.Y-t)};function ls(t){t.l.H==0||t.J||Wv(t.l,t)}function er(t){Vu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,yf(t.V),hv(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gc(n.i,t))){if(!t.K&&Gc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Oa(n),ju(n);else break e;Pf(n),at(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ao(rt(n.ib,n),6e3));if(1>=Nv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else tr(n,11)}else if((t.K||n.g==t)&&Oa(n),!Ds(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const v=c[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const I=t.g;if(I){const P=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=r.i;s.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kf(s,s.h),s.h=null))}if(r.F){const C=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,_e(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Qv(r,r.J?r.pa:null,r.Y),o.K){Mv(r.i,o);var u=o,l=r.L;l&&u.setTimeout(l),u.C&&(Vu(u),co(u)),r.g=o}else Hv(r);0<n.j.length&&Fu(n)}else c[0]!="stop"&&c[0]!="close"||tr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?tr(n,7):Af(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ls(4)}catch{}}function mT(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gT(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Cv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gT(t),r=mT(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _T(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ir(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ir){this.h=t.h,Ma(this,t.j),this.s=t.s,this.g=t.g,Va(this,t.m),this.l=t.l;var e=t.i,n=new xs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qp(this,n),this.o=t.o}else t&&(e=String(t).match(Iv))?(this.h=!1,Ma(this,e[1]||"",!0),this.s=Wi(e[2]||""),this.g=Wi(e[3]||"",!0),Va(this,e[4]),this.l=Wi(e[5]||"",!0),qp(this,e[6]||"",!0),this.o=Wi(e[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}ir.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ki(e,Wp,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ki(e,Wp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ki(n,n.charAt(0)=="/"?wT:yT,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ki(n,TT)),t.join("")};function dn(t){return new ir(t)}function Ma(t,e,n){t.j=n?Wi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Va(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qp(t,e,n){e instanceof xs?(t.i=e,ST(t.i,t.h)):(n||(e=Ki(e,ET)),t.i=new xs(e,t.h))}function _e(t,e,n){t.i.set(e,n)}function Ou(t){return _e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ki(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vT(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Wp=/[#\/\?@]/g,yT=/[#\?:]/g,wT=/[#\?]/g,ET=/[#\?@]/g,TT=/#/g;function xs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hn(t){t.g||(t.g=new Map,t.h=0,t.i&&_T(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=xs.prototype;$.add=function(t,e){Hn(this),this.i=null,t=vi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Av(t,e){Hn(t),e=vi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Pv(t,e){return Hn(t),e=vi(t,e),t.g.has(e)}$.forEach=function(t,e){Hn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};$.ta=function(){Hn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};$.Z=function(t){Hn(this);let e=[];if(typeof t=="string")Pv(this,t)&&(e=e.concat(this.g.get(vi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return Hn(this),this.i=null,t=vi(this,t),Pv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Rv(t,e,n){Av(t,e),0<n.length&&(t.i=null,t.g.set(vi(t,e),cf(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function vi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ST(t,e){e&&!t.j&&(Hn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Av(this,r),Rv(this,i,n))},t)),t.j=e}var kT=class{constructor(t,e){this.g=t,this.map=e}};function bv(t){this.l=t||CT,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var CT=10;function Dv(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Nv(t){return t.h?1:t.g?t.g.size:0}function Gc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kf(t,e){t.g?t.g.add(e):t.h=e}function Mv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bv.prototype.cancel=function(){if(this.i=Vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Vv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cf(t.i)}var IT=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function AT(){this.g=new IT}function PT(t,e,n){const r=n||"";try{Cv(t,function(i,s){let o=i;so(i)&&(o=_f(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RT(t,e){const n=new bu;if(Z.Image){const r=new Image;r.onload=zo(Fo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zo(Fo,n,r,"TestLoadImage: error",!1,e),r.onabort=zo(Fo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zo(Fo,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lu(t){this.l=t.ec||null,this.j=t.ob||!1}$e(Lu,Ef);Lu.prototype.g=function(){return new xu(this.l,this.j)};Lu.prototype.i=function(t){return function(){return t}}({});function xu(t,e){Fe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$e(xu,Fe);var Cf=0;$=xu.prototype;$.open=function(t,e){if(this.readyState!=Cf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zs(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=Cf};$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ov(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ov(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fo(this):zs(this),this.readyState==3&&Ov(this)}};$.Za=function(t){this.g&&(this.response=this.responseText=t,fo(this))};$.Ya=function(t){this.g&&(this.response=t,fo(this))};$.ka=function(){this.g&&fo(this)};function fo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zs(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var bT=Z.JSON.parse;function Ae(t){Fe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Lv,this.L=this.M=!1}$e(Ae,Fe);var Lv="",DT=/^https?$/i,NT=["POST","PUT"];$=Ae.prototype;$.Oa=function(t){this.M=t};$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hc.g(),this.C=this.u?Hp(this.u):Hp(Hc),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Kp(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=J_(NT,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jv(this),0<this.B&&((this.L=MT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=wf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Kp(this,s)}};function MT(t){return ni&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.ua=function(){typeof lf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))};function Kp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xv(t),zu(t)}function xv(t){t.F||(t.F=!0,Ke(t,"complete"),Ke(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ke(this,"complete"),Ke(this,"abort"),zu(this))};$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),Ae.$.N.call(this)};$.La=function(){this.s||(this.G||this.v||this.l?zv(this):this.kb())};$.kb=function(){zv(this)};function zv(t){if(t.h&&typeof lf<"u"&&(!t.C[1]||Ut(t)!=4||t.da()!=2)){if(t.v&&Ut(t)==4)wf(t.La,0,t);else if(Ke(t,"readystatechange"),Ut(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Iv)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!DT.test(i?i.toLowerCase():"")}n=r}if(n)Ke(t,"complete"),Ke(t,"success");else{t.m=6;try{var s=2<Ut(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",xv(t)}}finally{zu(t)}}}}function zu(t,e){if(t.g){jv(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ke(t,"ready");try{n.onreadystatechange=r}catch{}}}function jv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}$.isActive=function(){return!!this.g};function Ut(t){return t.g?t.g.readyState:0}$.da=function(){try{return 2<Ut(this)?this.g.status:-1}catch{return-1}};$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),bT(e)}};function Gp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Lv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function VT(t){const e={};t=(t.g&&2<=Ut(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ds(t[r]))continue;var n=sT(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}J8(e,function(r){return r.join(", ")})}$.Ia=function(){return this.m};$.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fv(t){let e="";return ff(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function If(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_e(t,e,n))}function zi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $v(t){this.Ga=0,this.j=[],this.l=new bu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zi("baseRetryDelayMs",5e3,t),this.hb=zi("retryDelaySeedMs",1e4,t),this.eb=zi("forwardChannelMaxRetries",2,t),this.xa=zi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bv(t&&t.concurrentRequestLimit),this.Ja=new AT,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}$=$v.prototype;$.ra=8;$.H=1;function Af(t){if(Bv(t),t.H==3){var e=t.W++,n=dn(t.I);if(_e(n,"SID",t.K),_e(n,"RID",e),_e(n,"TYPE","terminate"),ho(t,n),e=new lo(t,t.l,e),e.L=2,e.A=Ou(dn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=e.A,n=!0),n||(e.g=Yv(e.l,null),e.g.ha(e.A)),e.G=Date.now(),co(e)}Gv(t)}function ju(t){t.g&&(Rf(t),t.g.cancel(),t.g=null)}function Bv(t){ju(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Oa(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function Fu(t){if(!Dv(t.i)&&!t.m){t.m=!0;var e=t.Na;Ms||cv(),Vs||(Ms(),Vs=!0),vf.add(e,t),t.C=0}}function OT(t,e){return Nv(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ao(rt(t.Na,t,e),Kv(t,t.C)),t.C++,!0)}$.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lo(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nv(s),rv(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Uv(this,i,e),n=dn(this.I),_e(n,"RID",t),_e(n,"CVER",22),this.F&&_e(n,"X-HTTP-Session-Id",this.F),ho(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Fv(s)))+"&"+e:this.o&&If(n,this.o,s)),kf(this.i,i),this.bb&&_e(n,"TYPE","init"),this.P?(_e(n,"$req",e),_e(n,"SID","null"),i.aa=!0,Wc(i,n,null)):Wc(i,n,e),this.H=2}}else this.H==3&&(t?Qp(this,t):this.j.length==0||Dv(this.i)||Qp(this))};function Qp(t,e){var n;e?n=e.m:n=t.W++;const r=dn(t.I);_e(r,"SID",t.K),_e(r,"RID",n),_e(r,"AID",t.V),ho(t,r),t.o&&t.s&&If(r,t.o,t.s),n=new lo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Uv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),kf(t.i,n),Wc(n,r,e)}function ho(t,e){t.na&&ff(t.na,function(n,r){_e(e,r,n)}),t.h&&Cv({},function(n,r){_e(e,r,n)})}function Uv(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let c=i[l].g;const h=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),u=!1;else try{PT(h,o,"req"+c+"_")}catch{r&&r(h)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Hv(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ms||cv(),Vs||(Ms(),Vs=!0),vf.add(e,t),t.A=0}}function Pf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ao(rt(t.Ma,t),Kv(t,t.A)),t.A++,!0)}$.Ma=function(){if(this.u=null,qv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ao(rt(this.jb,this),t)}};$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,at(10),ju(this),qv(this))};function Rf(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function qv(t){t.g=new lo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dn(t.wa);_e(e,"RID","rpc"),_e(e,"SID",t.K),_e(e,"AID",t.V),_e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_e(e,"TO",t.qa),_e(e,"TYPE","xmlhttp"),ho(t,e),t.o&&t.s&&If(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ou(dn(e)),n.u=null,n.S=!0,Ev(n,t)}$.ib=function(){this.v!=null&&(this.v=null,ju(this),Pf(this),at(19))};function Oa(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function Wv(t,e){var n=null;if(t.g==e){Oa(t),Rf(t),t.g=null;var r=2}else if(Gc(t.i,e))n=e.F,Mv(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Du(),Ke(r,new gv(r,n)),Fu(t)}else Hv(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&OT(t,e)||r==2&&Pf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tr(t,5);break;case 4:tr(t,10);break;case 3:tr(t,6);break;default:tr(t,2)}}}function Kv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function tr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rt(t.pb,t);n||(n=new ir("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Ma(n,"https"),Ou(n)),RT(n.toString(),r)}else at(2);t.H=0,t.h&&t.h.za(e),Gv(t),Bv(t)}$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),at(2)):(this.l.info("Failed to ping google.com"),at(1))};function Gv(t){if(t.H=0,t.ma=[],t.h){const e=Vv(t.i);(e.length!=0||t.j.length!=0)&&(jp(t.ma,e),jp(t.ma,t.j),t.i.i.length=0,cf(t.j),t.j.length=0),t.h.ya()}}function Qv(t,e,n){var r=n instanceof ir?dn(n):new ir(n);if(r.g!="")e&&(r.g=e+"."+r.g),Va(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ir(null);r&&Ma(s,r),e&&(s.g=e),i&&Va(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&_e(r,n,e),_e(r,"VER",t.ra),ho(t,r),r}function Yv(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ae(new Lu({ob:n})):new Ae(t.va),e.Oa(t.J),e}$.isActive=function(){return!!this.h&&this.h.isActive(this)};function Xv(){}$=Xv.prototype;$.Ba=function(){};$.Aa=function(){};$.za=function(){};$.ya=function(){};$.isActive=function(){return!0};$.Va=function(){};function La(){if(ni&&!(10<=Number(G8)))throw Error("Environmental error: no available transport.")}La.prototype.g=function(t,e){return new _t(t,e)};function _t(t,e){Fe.call(this),this.g=new $v(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ds(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ds(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yi(this)}$e(_t,Fe);_t.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;at(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Qv(t,null,t.Y),Fu(t)};_t.prototype.close=function(){Af(this.g)};_t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_f(t),t=n);e.j.push(new kT(e.fb++,t)),e.H==3&&Fu(e)};_t.prototype.N=function(){this.g.h=null,delete this.j,Af(this.g),delete this.g,_t.$.N.call(this)};function Jv(t){Tf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}$e(Jv,Tf);function Zv(){Sf.call(this),this.status=1}$e(Zv,Sf);function yi(t){this.g=t}$e(yi,Xv);yi.prototype.Ba=function(){Ke(this.g,"a")};yi.prototype.Aa=function(t){Ke(this.g,new Jv(t))};yi.prototype.za=function(t){Ke(this.g,new Zv)};yi.prototype.ya=function(){Ke(this.g,"b")};function LT(){this.blockSize=-1}function zt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}$e(zt,LT);zt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $l(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}zt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$l(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$l(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$l(this,r),i=0;break}}this.h=i,this.i+=e};zt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var xT={};function bf(t){return-128<=t&&128>t?q8(t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function Ht(t){if(isNaN(t)||!isFinite(t))return Kr;if(0>t)return qe(Ht(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qc;return new de(e,0)}function ey(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qe(ey(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ht(Math.pow(e,8)),r=Kr,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ht(Math.pow(e,s)),r=r.R(s).add(Ht(o))):(r=r.R(n),r=r.add(Ht(o)))}return r}var Qc=4294967296,Kr=bf(0),Yc=bf(1),Yp=bf(16777216);$=de.prototype;$.ea=function(){if(Tt(this))return-qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qc+r)*e,e*=Qc}return t};$.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(un(this))return"0";if(Tt(this))return"-"+qe(this).toString(t);for(var e=Ht(Math.pow(t,6)),n=this,r="";;){var i=za(n,e).g;n=xa(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,un(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function un(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}$.X=function(t){return t=xa(this,t),Tt(t)?-1:un(t)?0:1};function qe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(Yc)}$.abs=function(){return Tt(this)?qe(this):this};$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new de(n,n[n.length-1]&-2147483648?-1:0)};function xa(t,e){return t.add(qe(e))}$.R=function(t){if(un(this)||un(t))return Kr;if(Tt(this))return Tt(t)?qe(this).R(qe(t)):qe(qe(this).R(t));if(Tt(t))return qe(this.R(qe(t)));if(0>this.X(Yp)&&0>t.X(Yp))return Ht(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,$o(n,2*r+2*i),n[2*r+2*i+1]+=s*l,$o(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,$o(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,$o(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function $o(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ji(t,e){this.g=t,this.h=e}function za(t,e){if(un(e))throw Error("division by zero");if(un(t))return new ji(Kr,Kr);if(Tt(t))return e=za(qe(t),e),new ji(qe(e.g),qe(e.h));if(Tt(e))return e=za(t,qe(e)),new ji(qe(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yc,r=e;0>=r.X(t);)n=Xp(n),r=Xp(r);var i=Er(n,1),s=Er(r,1);for(r=Er(r,2),n=Er(n,2);!un(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Er(r,1),n=Er(n,1)}return e=xa(t,i.R(e)),new ji(i,e)}for(i=Kr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ht(n),o=s.R(e);Tt(o)||0<o.X(t);)n-=r,s=Ht(n),o=s.R(e);un(s)&&(s=Yc),i=i.add(s),t=xa(t,o)}return new ji(i,t)}$.gb=function(t){return za(this,t).h};$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function Xp(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function Er(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new de(i,t.h)}La.prototype.createWebChannel=La.prototype.g;_t.prototype.send=_t.prototype.u;_t.prototype.open=_t.prototype.m;_t.prototype.close=_t.prototype.close;Nu.NO_ERROR=0;Nu.TIMEOUT=8;Nu.HTTP_ERROR=6;_v.COMPLETE="complete";vv.EventType=uo;uo.OPEN="a";uo.CLOSE="b";uo.ERROR="c";uo.MESSAGE="d";Fe.prototype.listen=Fe.prototype.O;Ae.prototype.listenOnce=Ae.prototype.P;Ae.prototype.getLastError=Ae.prototype.Sa;Ae.prototype.getLastErrorCode=Ae.prototype.Ia;Ae.prototype.getStatus=Ae.prototype.da;Ae.prototype.getResponseJson=Ae.prototype.Wa;Ae.prototype.getResponseText=Ae.prototype.ja;Ae.prototype.send=Ae.prototype.ha;Ae.prototype.setWithCredentials=Ae.prototype.Oa;zt.prototype.digest=zt.prototype.l;zt.prototype.reset=zt.prototype.reset;zt.prototype.update=zt.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=Ht;de.fromString=ey;var zT=function(){return new La},jT=function(){return Du()},Bl=Nu,FT=_v,$T=_r,Jp={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bo=vv,BT=Ae,UT=zt,Gr=de;const Zp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wi="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new W_("@firebase/firestore");function Fi(){return cr.logLevel}function W(t,...e){if(cr.logLevel<=ue.DEBUG){const n=e.map(Df);cr.debug(`Firestore (${wi}): ${t}`,...n)}}function fn(t,...e){if(cr.logLevel<=ue.ERROR){const n=e.map(Df);cr.error(`Firestore (${wi}): ${t}`,...n)}}function ri(t,...e){if(cr.logLevel<=ue.WARN){const n=e.map(Df);cr.warn(`Firestore (${wi}): ${t}`,...n)}}function Df(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${wi}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function pe(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class qT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WT{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new ty(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new Ze(e)}}class KT{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new QT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function ii(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Le(0,0))}static max(){return new ee(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends js{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const JT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends js{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return JT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Q(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Q(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(ye.fromString(e))}static fromName(e){return new Y(ye.fromString(e).popFirst(5))}static empty(){return new Y(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new ye(e.slice()))}}function ZT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new zn(i,Y.empty(),e)}function e2(t){return new zn(t.readTime,t.key,-1)}class zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zn(ee.min(),Y.empty(),-1)}static max(){return new zn(ee.max(),Y.empty(),-1)}}function t2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==n2)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Nf._e=-1;function $u(t){return t==null}function ja(t){return t===0&&1/t==-1/0}function i2(t){return typeof t=="number"&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ry(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uo(this.root,e,this.comparator,!0)}}class Uo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??Ue.EMPTY,this.right=s??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tm(this.data.getIterator())}getIteratorFrom(e){return new tm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class tm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new xt([])}unionWith(e){let n=new Ge(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ii(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iy("Invalid base64 string: "+s):s}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const s2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jn(t){if(pe(!!t),typeof t=="string"){let e=0;const n=s2.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vf(t){const e=t.mapValue.fields.__previous_value__;return Mf(e)?Vf(e):e}function Fs(t){const e=jn(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,i,s,o,u,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=c}}class $s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mf(t)?4:a2(t)?9007199254740991:10:J()}function Xt(t,e){if(t===e)return!0;const n=fr(t);if(n!==fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fs(t).isEqual(Fs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=jn(i.timestampValue),u=jn(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return dr(i.bytesValue).isEqual(dr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=De(i.doubleValue),u=De(s.doubleValue);return o===u?ja(o)===ja(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return ii(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(em(o)!==em(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!Xt(o[l],u[l])))return!1;return!0}(t,e);default:return J()}}function Bs(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=fr(t),r=fr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=De(s.integerValue||s.doubleValue),l=De(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return nm(t.timestampValue,e.timestampValue);case 4:return nm(Fs(t),Fs(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,o){const u=dr(s),l=dr(o);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),l=o.split("/");for(let c=0;c<u.length&&c<l.length;c++){const h=ce(u[c],l[c]);if(h!==0)return h}return ce(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=ce(De(s.latitude),De(o.latitude));return u!==0?u:ce(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],l=o.values||[];for(let c=0;c<u.length&&c<l.length;++c){const h=si(u[c],l[c]);if(h)return h}return ce(u.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ho.mapValue&&o===Ho.mapValue)return 0;if(s===Ho.mapValue)return 1;if(o===Ho.mapValue)return-1;const u=s.fields||{},l=Object.keys(u),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let v=0;v<l.length&&v<h.length;++v){const y=ce(l[v],h[v]);if(y!==0)return y;const I=si(u[l[v]],c[h[v]]);if(I!==0)return I}return ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J()}}function nm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=jn(t),r=jn(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function oi(t){return Xc(t)}function Xc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xc(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function Jc(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function rm(t){return!!t&&"nullValue"in t}function im(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ra(t){return!!t&&"mapValue"in t}function cs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ra(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cs(n)}setAll(e){let n=We.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=cs(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ra(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ra(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new St(cs(this.value))}}function sy(t){const e=[];return Ei(t.fields,(n,r)=>{const i=new We([n]);if(ra(r)){const s=sy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new et(e,0,ee.min(),ee.min(),ee.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new et(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new et(e,2,n,ee.min(),ee.min(),St.empty(),0)}static newUnknownDocument(e,n){return new et(e,3,n,ee.min(),ee.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function sm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=si(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function om(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n="asc"){this.field=e,this.dir=n}}function u2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{}class Ve extends oy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c2(e,n,r):n==="array-contains"?new h2(e,r):n==="in"?new p2(e,r):n==="not-in"?new m2(e,r):n==="array-contains-any"?new g2(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d2(e,r):new f2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(si(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends oy{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Jt(e,n)}matches(e){return ay(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ay(t){return t.op==="and"}function uy(t){return l2(t)&&ay(t)}function l2(t){for(const e of t.filters)if(e instanceof Jt)return!1;return!0}function Zc(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+oi(t.value);if(uy(t))return t.filters.map(e=>Zc(e)).join(",");{const e=t.filters.map(n=>Zc(n)).join(",");return`${t.op}(${e})`}}function ly(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&Xt(r.value,i.value)}(t,e):t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&ly(o,i.filters[u]),!0):!1}(t,e):void J()}function cy(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${oi(n.value)}`}(t):t instanceof Jt?function(n){return n.op.toString()+" {"+n.getFilters().map(cy).join(" ,")+"}"}(t):"Filter"}class c2 extends Ve{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class d2 extends Ve{constructor(e,n){super(e,"in",n),this.keys=dy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f2 extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=dy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class h2 extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Of(n)&&Bs(n.arrayValue,this.value)}}class p2 extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bs(this.value.arrayValue,n)}}class m2 extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bs(this.value.arrayValue,n)}}class g2 extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ce=null}}function am(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _2(t,e,n,r,i,s,o)}function Lf(t){const e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oi(r)).join(",")),e.ce=n}return e.ce}function xf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ly(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!om(t.startAt,e.startAt)&&om(t.endAt,e.endAt)}function ed(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function v2(t,e,n,r,i,s,o,u){return new Bu(t,e,n,r,i,s,o,u)}function zf(t){return new Bu(t)}function um(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y2(t){return t.collectionGroup!==null}function ds(t){const e=ne(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ge(We.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(u=u.add(c.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new $a(s,r))}),n.has(We.keyField().canonicalString())||e.le.push(new $a(We.keyField(),r))}return e.le}function Gt(t){const e=ne(t);return e.he||(e.he=w2(e,ds(t))),e.he}function w2(t,e){if(t.limitType==="F")return am(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $a(i.field,s)});const n=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;return am(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function td(t,e,n){return new Bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uu(t,e){return xf(Gt(t),Gt(e))&&t.limitType===e.limitType}function fy(t){return`${Lf(Gt(t))}|lt:${t.limitType}`}function kr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cy(i)).join(", ")}]`),$u(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oi(i)).join(",")),`Target(${r})`}(Gt(t))}; limitType=${t.limitType})`}function Hu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ds(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,l){const c=sm(o,u,l);return o.inclusive?c<=0:c<0}(r.startAt,ds(r),i)||r.endAt&&!function(o,u,l){const c=sm(o,u,l);return o.inclusive?c>=0:c>0}(r.endAt,ds(r),i))}(t,e)}function E2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hy(t){return(e,n)=>{let r=!1;for(const i of ds(t)){const s=T2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function T2(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,u){const l=o.data.field(s),c=u.data.field(s);return l!==null&&c!==null?si(l,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ry(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Se(Y.comparator);function hn(){return S2}const py=new Se(Y.comparator);function Gi(...t){let e=py;for(const n of t)e=e.insert(n.key,n);return e}function my(t){let e=py;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function nr(){return fs()}function gy(){return fs()}function fs(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const k2=new Se(Y.comparator),C2=new Ge(Y.comparator);function oe(...t){let e=C2;for(const n of t)e=e.add(n);return e}const I2=new Ge(ce);function A2(){return I2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function vy(t){return{integerValue:""+t}}function P2(t,e){return i2(e)?vy(e):_y(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this._=void 0}}function R2(t,e,n){return t instanceof Ba?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mf(s)&&(s=Vf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Us?wy(t,e):t instanceof Hs?Ey(t,e):function(i,s){const o=yy(i,s),u=lm(o)+lm(i.Ie);return Jc(o)&&Jc(i.Ie)?vy(u):_y(i.serializer,u)}(t,e)}function b2(t,e,n){return t instanceof Us?wy(t,e):t instanceof Hs?Ey(t,e):n}function yy(t,e){return t instanceof Ua?function(r){return Jc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ba extends qu{}class Us extends qu{constructor(e){super(),this.elements=e}}function wy(t,e){const n=Ty(e);for(const r of t.elements)n.some(i=>Xt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hs extends qu{constructor(e){super(),this.elements=e}}function Ey(t,e){let n=Ty(e);for(const r of t.elements)n=n.filter(i=>!Xt(i,r));return{arrayValue:{values:n}}}class Ua extends qu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lm(t){return De(t.integerValue||t.doubleValue)}function Ty(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Us&&i instanceof Us||r instanceof Hs&&i instanceof Hs?ii(r.elements,i.elements,Xt):r instanceof Ua&&i instanceof Ua?Xt(r.Ie,i.Ie):r instanceof Ba&&i instanceof Ba}(t.transform,e.transform)}class N2{constructor(e,n){this.version=e,this.transformResults=n}}class Qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qt}static exists(e){return new Qt(void 0,e)}static updateTime(e){return new Qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ia(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wu{}function Sy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jf(t.key,Qt.none()):new go(t.key,t.data,Qt.none());{const n=t.data,r=St.empty();let i=new Ge(We.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vr(t.key,r,new xt(i.toArray()),Qt.none())}}function M2(t,e,n){t instanceof go?function(i,s,o){const u=i.value.clone(),l=dm(i.fieldTransforms,s,o.transformResults);u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(i,s,o){if(!ia(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=dm(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ky(i)),l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hs(t,e,n,r){return t instanceof go?function(s,o,u,l){if(!ia(s.precondition,o))return u;const c=s.value.clone(),h=fm(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof vr?function(s,o,u,l){if(!ia(s.precondition,o))return u;const c=fm(s.fieldTransforms,l,o),h=o.data;return h.setAll(ky(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,o,u){return ia(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function V2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yy(r.transform,i||null);s!=null&&(n===null&&(n=St.empty()),n.set(r.field,s))}return n||null}function cm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ii(r,i,(s,o)=>D2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class go extends Wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vr extends Wu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ky(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dm(t,e,n){const r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,b2(o,u,n[i]))}return r}function fm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,R2(s,o,e))}return r}class jf extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O2 extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&M2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=Sy(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ii(this.mutations,e.mutations,(n,r)=>cm(n,r))&&ii(this.baseMutations,e.baseMutations,(n,r)=>cm(n,r))}}class Ff{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=function(){return k2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ff(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,ae;function j2(t){switch(t){default:return J();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function Cy(t){if(t===void 0)return fn("GRPC error has no .code"),x.UNKNOWN;switch(t){case be.OK:return x.OK;case be.CANCELLED:return x.CANCELLED;case be.UNKNOWN:return x.UNKNOWN;case be.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case be.INTERNAL:return x.INTERNAL;case be.UNAVAILABLE:return x.UNAVAILABLE;case be.UNAUTHENTICATED:return x.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case be.NOT_FOUND:return x.NOT_FOUND;case be.ALREADY_EXISTS:return x.ALREADY_EXISTS;case be.PERMISSION_DENIED:return x.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case be.ABORTED:return x.ABORTED;case be.OUT_OF_RANGE:return x.OUT_OF_RANGE;case be.UNIMPLEMENTED:return x.UNIMPLEMENTED;case be.DATA_LOSS:return x.DATA_LOSS;default:return J()}}(ae=be||(be={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Gr([4294967295,4294967295],0);function hm(t){const e=F2().encode(t),n=new UT;return n.update(e),new Uint8Array(n.digest())}function pm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}class $f{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qi(`Invalid padding: ${n}`);if(r<0)throw new Qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Gr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Gr.fromNumber(r)));return i.compare($2)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=hm(e),[r,i]=pm(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $f(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Te===0)return;const n=hm(e),[r,i]=pm(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ku(ee.min(),i,new Se(ce),hn(),oe())}}class _o{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _o(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Iy{constructor(e,n){this.targetId=e,this.fe=n}}class Ay{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mm{constructor(){this.ge=0,this.pe=_m(),this.ye=ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=oe(),n=oe(),r=oe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new _o(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=_m()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class B2{constructor(e){this.Le=e,this.ke=new Map,this.qe=hn(),this.Qe=gm(),this.Ke=new Se(ce)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ed(s))if(r===0){const o=new Y(s.path);this.We(n,o,et.newNoDocument(o,ee.min()))}else pe(r===1);else{const o=this.Ze(n);if(o!==r){const u=this.Xe(e),l=u?this.et(u,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=dr(r).toUint8Array()}catch(l){if(l instanceof iy)return ri("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{u=new $f(o,i,s)}catch(l){return ri(l instanceof Qi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return u.Te===0?null:u}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const u=this.Ye(o);if(u){if(s.current&&ed(u.target)){const l=new Y(u.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,et.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=oe();this.Qe.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ku(e,n,this.Ke,this.qe,r);return this.qe=hn(),this.Qe=gm(),this.Ke=new Se(ce),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mm,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ge(ce),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gm(){return new Se(Y.comparator)}function _m(){return new Se(Y.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q2={and:"AND",or:"OR"};class W2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nd(t,e){return t.useProto3Json||$u(e)?e:{value:e}}function Ha(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Py(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K2(t,e){return Ha(t,e.toTimestamp())}function Yt(t){return pe(!!t),ee.fromTimestamp(function(n){const r=jn(n);return new Le(r.seconds,r.nanos)}(t))}function Bf(t,e){return function(r){return new ye(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Ry(t){const e=ye.fromString(t);return pe(My(e)),e}function rd(t,e){return Bf(t.databaseId,e.path)}function Ul(t,e){const n=Ry(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(by(n))}function id(t,e){return Bf(t.databaseId,e)}function G2(t){const e=Ry(t);return e.length===4?ye.emptyPath():by(e)}function sd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function by(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vm(t,e,n){return{name:rd(t,e),fields:n.value.mapValue.fields}}function Q2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(pe(h===void 0||typeof h=="string"),ot.fromBase64String(h||"")):(pe(h===void 0||h instanceof Uint8Array),ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(c){const h=c.code===void 0?x.UNKNOWN:Cy(c.code);return new Q(h,c.message||"")}(o);n=new Ay(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ul(t,r.document.name),s=Yt(r.document.updateTime),o=r.document.createTime?Yt(r.document.createTime):ee.min(),u=new St({mapValue:{fields:r.document.fields}}),l=et.newFoundDocument(i,s,o,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new sa(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ul(t,r.document),s=r.readTime?Yt(r.readTime):ee.min(),o=et.newNoDocument(i,s),u=r.removedTargetIds||[];n=new sa([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ul(t,r.document),s=r.removedTargetIds||[];n=new sa([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new z2(i,s),u=r.targetId;n=new Iy(u,o)}}return n}function Y2(t,e){let n;if(e instanceof go)n={update:vm(t,e.key,e.value)};else if(e instanceof jf)n={delete:rd(t,e.key)};else if(e instanceof vr)n={update:vm(t,e.key,e.data),updateMask:sS(e.fieldMask)};else{if(!(e instanceof O2))return J();n={verify:rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof Ba)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Us)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ua)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:K2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function X2(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Yt(i.updateTime):Yt(s);return o.isEqual(ee.min())&&(o=Yt(s)),new N2(o,i.transformResults||[])}(n,e))):[]}function J2(t,e){return{documents:[id(t,e.path)]}}function Z2(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=id(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=id(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Ny(Jt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(v){return{field:Cr(v.field),direction:nS(v.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=nd(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function eS(t){let e=G2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(v){const y=Dy(v);return y instanceof Jt&&uy(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(v){return v.map(y=>function(P){return new $a(Ir(P.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(v){let y;return y=typeof v=="object"?v.value:v,$u(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(v){const y=!!v.before,I=v.values||[];return new Fa(I,y)}(n.startAt));let c=null;return n.endAt&&(c=function(v){const y=!v.before,I=v.values||[];return new Fa(I,y)}(n.endAt)),v2(e,i,o,s,u,"F",l,c)}function tS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ir(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ir(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ir(n.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ir(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Ir(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jt.create(n.compositeFilter.filters.map(r=>Dy(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function nS(t){return U2[t]}function rS(t){return H2[t]}function iS(t){return q2[t]}function Cr(t){return{fieldPath:t.canonicalString()}}function Ir(t){return We.fromServerFormat(t.fieldPath)}function Ny(t){return t instanceof Ve?function(n){if(n.op==="=="){if(im(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NAN"}};if(rm(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(im(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NOT_NAN"}};if(rm(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(n.field),op:rS(n.op),value:n.value}}}(t):t instanceof Jt?function(n){const r=n.getFilters().map(i=>Ny(i));return r.length===1?r[0]:{compositeFilter:{op:iS(n.op),filters:r}}}(t):J()}function sS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function My(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,i,s=ee.min(),o=ee.min(),u=ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new En(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.ut=e}}function aS(t){const e=eS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.on=new lS}addToCollectionParentIndex(e,n){return this.on.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(zn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class lS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ai(0)}static Nn(){return new ai(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hs(r.mutation,i,xt.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gi();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=hn();const o=fs(),u=function(){return fs()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof vr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),hs(h.mutation,c,h.mutation.getFieldMask(),Le.now())):o.set(c.key,xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var v;return u.set(c,new dS(h,(v=o.get(c))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const r=fs();let i=new Se((o,u)=>o-u),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||xt.empty();h=u.applyToLocalView(c,h),r.set(l,h);const v=(i.get(u.batchId)||oe()).add(l);i=i.insert(u.batchId,v)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,v=gy();h.forEach(y=>{if(!s.has(y)){const I=Sy(n.get(y),r.get(y));I!==null&&v.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,v))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(nr());let u=-1,l=s;return o.next(c=>L.forEach(c,(h,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(h=>({batchId:u,changes:my(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Gi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gi();return this.indexManager.getCollectionParents(e,s).next(u=>L.forEach(u,l=>{const c=function(v,y){return new Bu(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((v,y)=>{o=o.insert(v,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,et.newInvalidDocument(h)))});let u=Gi();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&hs(h.mutation,c,xt.empty(),Le.now()),Hu(n,c)&&(u=u.insert(l,c))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return L.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yt(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:aS(i.bundledQuery),readTime:Yt(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new Se(Y.comparator),this.lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=nr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=nr(),s=n.length+1,o=new Y(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=nr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=nr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=i)););return L.resolve(u)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x2(n,r));let s=this.lr.get(n);s===void 0&&(s=oe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.hr=new Ge(ze.Pr),this.Ir=new Ge(ze.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ze(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Y(new ye([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Y(new ye([])),r=new ze(n,e),i=new ze(n,e+1);let s=oe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Y.comparator(e.key,n.key)||ce(e.gr,n.gr)}static Tr(e,n){return ce(e.gr,n.gr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ge(ze.Pr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new L2(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.yr=this.yr.add(new ze(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const u=this.wr(o.gr);s.push(u)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ce);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],u=>{r=r.add(u.gr)})}),L.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new ze(new Y(s),0);let u=new Ge(ce);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(l.gr)),!0)},o),L.resolve(this.br(u))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return L.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ze(n,0),i=this.yr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Cr=e,this.docs=function(){return new Se(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():et.newInvalidDocument(n))}getEntries(e,n){let r=hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():et.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hn();const o=n.path,u=new Y(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||t2(e2(h),r)<=0||(i.has(h.key)||Hu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}vr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _S(this)}getSize(e){return L.resolve(this.size)}}class _S extends cS{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.persistence=e,this.Fr=new Ti(n=>Lf(n),xf),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Uf,this.targetCount=0,this.Nr=ai.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),L.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ai(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.kn(n),L.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Nf(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vS(this),this.indexManager=new uS,this.remoteDocumentCache=function(i){return new gS(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oS(n),this.Kr=new hS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new mS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new wS(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class wS extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class Hf{constructor(e){this.persistence=e,this.Gr=new Uf,this.zr=null}static jr(e){return new Hf(e)}get Hr(){if(this.zr)return this.zr;throw J()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,r=>{const i=Y.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return L.or([()=>L.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ES;return this.Hi(e,n,o).next(u=>{if(s.result=u,this.$i)return this.Ji(e,n,o,u.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Fi()<=ue.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",kr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(Fi()<=ue.DEBUG&&W("QueryEngine","Query:",kr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Fi()<=ue.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",kr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gt(n))):L.resolve())}zi(e,n){if(um(n))return L.resolve(null);let r=Gt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=td(n,null,"F"),r=Gt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Gi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,u);return this.Zi(n,c,o,l.readTime)?this.zi(e,td(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return um(n)||i.isEqual(ee.min())?L.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?L.resolve(null):(Fi()<=ue.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kr(n)),this.Xi(e,o,n,ZT(i,-1)).next(u=>u))})}Yi(e,n){let r=new Ge(hy(e));return n.forEach((i,s)=>{Hu(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Fi()<=ue.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",kr(n)),this.Gi.getDocumentsMatchingQuery(e,n,zn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Se(ce),this.ns=new Ti(s=>Lf(s),xf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function kS(t,e,n,r){return new SS(t,e,n,r)}async function Vy(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:u}))})})}function CS(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(u,l,c,h){const v=c.batch,y=v.keys();let I=L.resolve();return y.forEach(P=>{I=I.next(()=>h.getEntry(l,P)).next(C=>{const g=c.docVersions.get(P);pe(g!==null),C.version.compareTo(g)<0&&(v.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),I.next(()=>u.mutationQueue.removeMutationBatch(l,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let l=oe();for(let c=0;c<u.mutationResults.length;++c)u.mutationResults[c].transformResults.length>0&&(l=l.add(u.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Oy(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function IS(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const u=[];e.targetChanges.forEach((h,v)=>{const y=i.get(v);if(!y)return;u.push(n.qr.removeMatchingKeys(s,h.removedDocuments,v).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,v)));let I=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(ot.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(v,I),function(C,g,m){return C.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(y,I,h)&&u.push(n.qr.updateTargetData(s,I))});let l=hn(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(AS(s,o,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!r.isEqual(ee.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(v=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return L.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function AS(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hn();return n.forEach((u,l)=>{const c=s.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):W("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function PS(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RS(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new En(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function od(t,e,n){const r=ne(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!mo(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function ym(t,e,n){const r=ne(t);let i=ee.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const v=ne(l),y=v.ns.get(h);return y!==void 0?L.resolve(v.ts.get(y)):v.qr.getTargetData(c,h)}(r,o,Gt(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:oe())).next(u=>(bS(r,E2(e),u),{documents:u,ls:s})))}function bS(t,e,n){let r=t.rs.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class wm{constructor(){this.activeTargetIds=A2()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DS{constructor(){this.eo=new wm,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new wm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function Hl(){return qo===null?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class OS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const u=Hl(),l=this.So(n,r);W("RestConnection",`Sending RPC '${n}' ${u}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(h=>(W("RestConnection",`Received RPC '${n}' ${u}: `,h),h),h=>{throw ri("RestConnection",`RPC '${n}' ${u} failed with error: `,h,"url: ",l,"request:",i),h})}Co(n,r,i,s,o,u){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=MS[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Hl();return new Promise((o,u)=>{const l=new BT;l.setWithCredentials(!0),l.listenOnce(FT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bl.NO_ERROR:const h=l.getResponseJson();W(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Bl.TIMEOUT:W(Xe,`RPC '${e}' ${s} timed out`),u(new Q(x.DEADLINE_EXCEEDED,"Request time out"));break;case Bl.HTTP_ERROR:const v=l.getStatus();if(W(Xe,`RPC '${e}' ${s} failed with status:`,v,"response text:",l.getResponseText()),v>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const P=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(m)>=0?m:x.UNKNOWN}(I.status);u(new Q(P,I.message))}else u(new Q(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Q(x.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{W(Xe,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(Xe,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=Hl(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zT(),u=jT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");W(Xe,`Creating RPC '${e}' stream ${i}: ${h}`,l);const v=o.createWebChannel(h,l);let y=!1,I=!1;const P=new VS({co:g=>{I?W(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(y||(W(Xe,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),W(Xe,`RPC '${e}' stream ${i} sending:`,g),v.send(g))},lo:()=>v.close()}),C=(g,m,_)=>{g.listen(m,k=>{try{_(k)}catch(a){setTimeout(()=>{throw a},0)}})};return C(v,Bo.EventType.OPEN,()=>{I||W(Xe,`RPC '${e}' stream ${i} transport opened.`)}),C(v,Bo.EventType.CLOSE,()=>{I||(I=!0,W(Xe,`RPC '${e}' stream ${i} transport closed`),P.Ro())}),C(v,Bo.EventType.ERROR,g=>{I||(I=!0,ri(Xe,`RPC '${e}' stream ${i} transport errored:`,g),P.Ro(new Q(x.UNAVAILABLE,"The operation could not be completed")))}),C(v,Bo.EventType.MESSAGE,g=>{var m;if(!I){const _=g.data[0];pe(!!_);const k=_,a=k.error||((m=k[0])===null||m===void 0?void 0:m.error);if(a){W(Xe,`RPC '${e}' stream ${i} received error:`,a);const f=a.status;let d=function(E){const T=be[E];if(T!==void 0)return Cy(T)}(f),p=a.message;d===void 0&&(d=x.INTERNAL,p="Unknown error status: "+f+" with message "+a.message),I=!0,P.Ro(new Q(d,p)),v.close()}else W(Xe,`RPC '${e}' stream ${i} received:`,_),P.Vo(_)}}),C(u,$T.STAT_EVENT,g=>{g.stat===Jp.PROXY?W(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Jp.NOPROXY&&W(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.Ao()},0),P}}function ql(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){return new W2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i,s,o,u,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ly(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Q(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LS extends xy{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Q2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Yt(o.readTime):ee.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=sd(this.serializer),n.addTarget=function(s,o){let u;const l=o.target;if(u=ed(l)?{documents:J2(s,l)}:{query:Z2(s,l)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=Py(s,o.resumeToken);const c=nd(s,o.expectedCount);c!==null&&(u.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){u.readTime=Ha(s,o.snapshotVersion.toTimestamp());const c=nd(s,o.expectedCount);c!==null&&(u.expectedCount=c)}return u}(this.serializer,e);const r=tS(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=sd(this.serializer),n.removeTarget=e,this.e_(n)}}class xS extends xy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=X2(e.writeResults,e.commitTime),r=Yt(e.commitTime);return this.listener.I_(r,n)}return pe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=sd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y2(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Q(x.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(x.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(x.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class jS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(fn(n),this.f_=!1):W("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{yr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.C_.add(4),await vo(c),c.M_.set("Unknown"),c.C_.delete(4),await Qu(c)}(this))})}),this.M_=new jS(r,i)}}async function Qu(t){if(yr(t))for(const e of t.v_)await e(!0)}async function vo(t){for(const e of t.v_)await e(!1)}function zy(t,e){const n=ne(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Gf(n)?Kf(n):Si(n).Ho()&&Wf(n,e))}function jy(t,e){const n=ne(t),r=Si(n);n.D_.delete(e),r.Ho()&&Fy(n,e),n.D_.size===0&&(r.Ho()?r.Zo():yr(n)&&n.M_.set("Unknown"))}function Wf(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Si(t).u_(e)}function Fy(t,e){t.x_.Oe(e),Si(t).c_(e)}function Kf(t){t.x_=new B2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Si(t).start(),t.M_.g_()}function Gf(t){return yr(t)&&!Si(t).jo()&&t.D_.size>0}function yr(t){return ne(t).C_.size===0}function $y(t){t.x_=void 0}async function $S(t){t.D_.forEach((e,n)=>{Wf(t,e)})}async function BS(t,e){$y(t),Gf(t)?(t.M_.w_(e),Kf(t)):t.M_.set("Unknown")}async function US(t,e,n){if(t.M_.set("Online"),e instanceof Ay&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.D_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.D_.delete(u),i.x_.removeTarget(u))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qa(t,r)}else if(e instanceof sa?t.x_.$e(e):e instanceof Iy?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ee.min()))try{const r=await Oy(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.x_.it(o);return u.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.D_.get(c);h&&s.D_.set(c,h.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,c)=>{const h=s.D_.get(l);if(!h)return;s.D_.set(l,h.withResumeToken(ot.EMPTY_BYTE_STRING,h.snapshotVersion)),Fy(s,l);const v=new En(h.target,l,c,h.sequenceNumber);Wf(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await qa(t,r)}}async function qa(t,e,n){if(!mo(e))throw e;t.C_.add(1),await vo(t),t.M_.set("Offline"),n||(n=()=>Oy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Qu(t)})}function By(t,e){return e().catch(n=>qa(t,n,e))}async function Yu(t){const e=ne(t),n=Fn(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;HS(e);)try{const i=await PS(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,qS(e,i)}catch(i){await qa(e,i)}Uy(e)&&Hy(e)}function HS(t){return yr(t)&&t.b_.length<10}function qS(t,e){t.b_.push(e);const n=Fn(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Uy(t){return yr(t)&&!Fn(t).jo()&&t.b_.length>0}function Hy(t){Fn(t).start()}async function WS(t){Fn(t).E_()}async function KS(t){const e=Fn(t);for(const n of t.b_)e.P_(n.mutations)}async function GS(t,e,n){const r=t.b_.shift(),i=Ff.from(r,e,n);await By(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yu(t)}async function QS(t,e){e&&Fn(t).h_&&await async function(r,i){if(function(o){return j2(o)&&o!==x.ABORTED}(i.code)){const s=r.b_.shift();Fn(r).Yo(),await By(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yu(r)}}(t,e),Uy(t)&&Hy(t)}async function Tm(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=yr(n);n.C_.add(3),await vo(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Qu(n)}async function YS(t,e){const n=ne(t);e?(n.C_.delete(2),await Qu(n)):e||(n.C_.add(2),await vo(n),n.M_.set("Unknown"))}function Si(t){return t.O_||(t.O_=function(n,r,i){const s=ne(n);return s.A_(),new LS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:$S.bind(null,t),Io:BS.bind(null,t),a_:US.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Gf(t)?Kf(t):t.M_.set("Unknown")):(await t.O_.stop(),$y(t))})),t.O_}function Fn(t){return t.N_||(t.N_=function(n,r,i){const s=ne(n);return s.A_(),new xS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:WS.bind(null,t),Io:QS.bind(null,t),T_:KS.bind(null,t),I_:GS.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Yu(t)):(await t.N_.stop(),t.b_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new Qf(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yf(t,e){if(fn("AsyncQueue",`${e}: ${t}`),mo(t))return new Q(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Gi(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new Qr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.B_=new Se(Y.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):J():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ui{constructor(e,n,r,i,s,o,u,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ui(e,n,Qr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.k_=void 0,this.listeners=[]}}class JS{constructor(){this.queries=new Ti(e=>fy(e),Uu),this.onlineState="Unknown",this.q_=new Set}}async function ZS(t,e){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new XS),i)try{s.k_=await n.onListen(r)}catch(o){const u=Yf(o,`Initialization of query '${kr(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Xf(n)}async function ek(t,e){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function tk(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.K_(i)&&(r=!0);o.k_=i}}r&&Xf(n)}function nk(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Xf(t){t.q_.forEach(e=>{e.next()})}class rk{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ui(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ui.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.key=e}}class Wy{constructor(e){this.key=e}}class ik{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=oe(),this.mutatedKeys=oe(),this._a=hy(e),this.aa=new Qr(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Sm,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,v)=>{const y=i.get(h),I=Hu(this.query,v)?v:null,P=!!y&&this.mutatedKeys.has(y.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let g=!1;y&&I?y.data.isEqual(I.data)?P!==C&&(r.track({type:3,doc:I}),g=!0):this.ha(y,I)||(r.track({type:2,doc:I}),g=!0,(l&&this._a(I,l)>0||c&&this._a(I,c)<0)&&(u=!0)):!y&&I?(r.track({type:0,doc:I}),g=!0):y&&!I&&(r.track({type:1,doc:y}),g=!0,(l||c)&&(u=!0)),g&&(I?(o=o.add(I),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:u,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((h,v)=>function(I,P){const C=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return C(I)-C(P)}(h.type,v.type)||this._a(h.doc,v.doc)),this.Pa(r),i=i!=null&&i;const u=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new ui(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:u}:{Ta:u}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Sm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=oe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Wy(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new qy(r))}),n}da(e){this.ia=e.ls,this.oa=oe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ui.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class sk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ok{constructor(e){this.key=e,this.Ra=!1}}class ak{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ti(u=>fy(u),Uu),this.fa=new Map,this.ga=new Set,this.pa=new Se(Y.comparator),this.ya=new Map,this.wa=new Uf,this.Sa={},this.ba=new Map,this.Da=ai.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function uk(t,e){const n=vk(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await RS(n.localStore,Gt(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await lk(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&zy(n.remoteStore,o)}return i}async function lk(t,e,n,r,i){t.va=(v,y,I)=>async function(C,g,m,_){let k=g.view.ca(m);k.Zi&&(k=await ym(C.localStore,g.query,!1).then(({documents:p})=>g.view.ca(p,k)));const a=_&&_.targetChanges.get(g.targetId),f=_&&_.targetMismatches.get(g.targetId)!=null,d=g.view.applyChanges(k,C.isPrimaryClient,a,f);return Cm(C,g.targetId,d.Ta),d.snapshot}(t,v,y,I);const s=await ym(t.localStore,e,!0),o=new ik(e,s.ls),u=o.ca(s.documents),l=_o.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(u,t.isPrimaryClient,l);Cm(t,n,c.Ta);const h=new sk(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function ck(t,e){const n=ne(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Uu(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await od(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jy(n.remoteStore,r.targetId),ad(n,r.targetId)}).catch(po)):(ad(n,r.targetId),await od(n.localStore,r.targetId,!0))}async function dk(t,e,n){const r=yk(t);try{const i=await function(o,u){const l=ne(o),c=Le.now(),h=u.reduce((I,P)=>I.add(P.key),oe());let v,y;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=hn(),C=oe();return l.ss.getEntries(I,h).next(g=>{P=g,P.forEach((m,_)=>{_.isValidDocument()||(C=C.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,P)).next(g=>{v=g;const m=[];for(const _ of u){const k=V2(_,v.get(_.key).overlayedDocument);k!=null&&m.push(new vr(_.key,k,sy(k.value.mapValue),Qt.exists(!0)))}return l.mutationQueue.addMutationBatch(I,c,m,u)}).next(g=>{y=g;const m=g.applyToLocalDocumentSet(v,C);return l.documentOverlayCache.saveOverlays(I,g.batchId,m)})}).then(()=>({batchId:y.batchId,changes:my(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Se(ce)),c=c.insert(u,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await yo(r,i.changes),await Yu(r.remoteStore)}catch(i){const s=Yf(i,"Failed to persist write");n.reject(s)}}async function Ky(t,e){const n=ne(t);try{const r=await IS(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?pe(o.Ra):i.removedDocuments.size>0&&(pe(o.Ra),o.Ra=!1))}),await yo(n,r,e)}catch(r){await po(r)}}function km(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const u=o.view.Q_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const l=ne(o);l.onlineState=u;let c=!1;l.queries.forEach((h,v)=>{for(const y of v.listeners)y.Q_(u)&&(c=!0)}),c&&Xf(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fk(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Se(Y.comparator);o=o.insert(s,et.newNoDocument(s,ee.min()));const u=oe().add(s),l=new Ku(ee.min(),new Map,new Se(ce),o,u);await Ky(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),Jf(r)}else await od(r.localStore,e,!1).then(()=>ad(r,e,n)).catch(po)}async function hk(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await CS(n.localStore,e);Qy(n,r,null),Gy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yo(n,i)}catch(i){await po(i)}}async function pk(t,e,n){const r=ne(t);try{const i=await function(o,u){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,u).next(v=>(pe(v!==null),h=v.keys(),l.mutationQueue.removeMutationBatch(c,v))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Qy(r,e,n),Gy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yo(r,i)}catch(i){await po(i)}}function Gy(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Qy(t,e,n){const r=ne(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ad(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Yy(t,r)})}function Yy(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(jy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Jf(t))}function Cm(t,e,n){for(const r of n)r instanceof qy?(t.wa.addReference(r.key,e),mk(t,r)):r instanceof Wy?(W("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Yy(t,r.key)):J()}function mk(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(W("SyncEngine","New document in limbo: "+n),t.ga.add(r),Jf(t))}function Jf(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Y(ye.fromString(e)),r=t.Da.next();t.ya.set(r,new ok(n)),t.pa=t.pa.insert(n,r),zy(t.remoteStore,new En(Gt(zf(n.path)),r,"TargetPurposeLimboResolution",Nf._e))}}async function yo(t,e,n){const r=ne(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((u,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=qf.Qi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const h=ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>L.forEach(c,y=>L.forEach(y.ki,I=>h.persistence.referenceDelegate.addReference(v,y.targetId,I)).next(()=>L.forEach(y.qi,I=>h.persistence.referenceDelegate.removeReference(v,y.targetId,I)))))}catch(v){if(!mo(v))throw v;W("LocalStore","Failed to update sequence numbers: "+v)}for(const v of c){const y=v.targetId;if(!v.fromCache){const I=h.ts.get(y),P=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(P);h.ts=h.ts.insert(y,C)}}}(r.localStore,s))}async function gk(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await Vy(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(u=>{u.forEach(l=>{l.reject(new Q(x.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yo(n,r._s)}}function _k(t,e){const n=ne(t),r=n.ya.get(e);if(r&&r.Ra)return oe().add(r.key);{let i=oe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const u=n.ma.get(o);i=i.unionWith(u.view.ua)}return i}}function vk(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ky.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.Va.a_=tk.bind(null,e.eventManager),e.Va.Fa=nk.bind(null,e.eventManager),e}function yk(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pk.bind(null,e),e}class Im{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kS(this.persistence,new TS,e.initialUser,this.serializer)}createPersistence(e){return new yS(Hf.jr,this.serializer)}createSharedClientState(e){return new DS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>km(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JS}()}createDatastore(e){const n=Gu(e.databaseInfo.databaseId),r=function(s){return new OS(s)}(e.databaseInfo);return function(s,o,u,l){return new zS(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new FS(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>km(this.syncEngine,n,0),function(){return Em.D()?new Em:new NS}())}createSyncEngine(e,n){return function(i,s,o,u,l,c,h){const v=new ak(i,s,o,u,l,c);return h&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ne(n);W("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await vo(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wl(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Am(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kk(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Tm(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Tm(e.remoteStore,s)),t._onlineComponents=e}function Sk(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Sk(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),await Wl(t,new Im)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Wl(t,new Im);return t._offlineComponents}async function Xy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Am(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Am(t,new wk))),t._onlineComponents}function Ck(t){return Xy(t).then(e=>e.syncEngine)}async function Pm(t){const e=await Xy(t),n=e.eventManager;return n.onListen=uk.bind(null,e.syncEngine),n.onUnlisten=ck.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e,n){if(!n)throw new Q(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ik(t,e,n,r){if(e===!0&&r===!0)throw new Q(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bm(t){if(!Y.isDocumentKey(t))throw new Q(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dm(t){if(Y.isDocumentKey(t))throw new Q(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new Q(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ik("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HT;switch(r.type){case"firstParty":return new GT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rm.get(n);r&&(W("ComponentProvider","Removing Datastore"),Rm.delete(n),r.terminate())}(this),Promise.resolve()}}function Ak(t,e,n,r={}){var i;const s=(t=Yr(t,Xu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Ze.MOCK_USER;else{u=kE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ze(c)}t._authCredentials=new qT(new ty(u,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ju(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class Nn extends Ju{constructor(e,n,r){super(e,n,zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Y(e))}withConverter(e){return new Nn(this.firestore,e,this._path)}}function Pk(t,e,...n){if(t=ti(t),Zy("collection","path",e),t instanceof Xu){const r=ye.fromString(e,...n);return Dm(r),new Nn(t,null,r)}{if(!(t instanceof Ct||t instanceof Nn))throw new Q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Dm(r),new Nn(t.firestore,null,r)}}function e0(t,e,...n){if(t=ti(t),arguments.length===1&&(e=ny.newId()),Zy("doc","path",e),t instanceof Xu){const r=ye.fromString(e,...n);return bm(r),new Ct(t,null,new Y(r))}{if(!(t instanceof Ct||t instanceof Nn))throw new Q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return bm(r),new Ct(t.firestore,t instanceof Nn?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ly(this,"async_queue_retry"),this.iu=()=>{const n=ql();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=ql();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=ql();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new sr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!mo(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Qf.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&J()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Mm(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class qs extends Xu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Rk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||n0(this),this._firestoreClient.terminate()}}function bk(t,e){const n=typeof t=="object"?t:P8(),r=typeof t=="string"?t:e||"(default)",i=k8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TE("firestore");s&&Ak(i,...s)}return i}function t0(t){return t._firestoreClient||n0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function n0(t){var e,n,r;const i=t._freezeSettings(),s=function(u,l,c,h){return new o2(u,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Jy(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Tk(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(ot.fromBase64String(e))}catch(n){throw new Q(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=/^__.*__$/;class Nk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new go(e,this.data,n,this.fieldTransforms)}}function i0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class nh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new nh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Wa(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(i0(this.Iu)&&Dk.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Mk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gu(e)}pu(e,n,r,i=!1){return new nh({Iu:e,methodName:n,gu:r,path:We.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vk(t){const e=t._freezeSettings(),n=Gu(t._databaseId);return new Mk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ok(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);u0("Data must be an object, but it was:",o,r);const u=o0(r,o);let l,c;if(s.merge)l=new xt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const v of s.mergeFields){const y=Lk(e,v,n);if(!o.contains(y))throw new Q(x.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);zk(h,y)||h.push(y)}l=new xt(h),c=o.fieldTransforms.filter(v=>l.covers(v.field))}else l=null,c=o.fieldTransforms;return new Nk(new St(u),l,c)}function s0(t,e){if(a0(t=ti(t)))return u0("Unsupported field value:",e,t),o0(t,e);if(t instanceof r0)return function(r,i){if(!i0(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let l=s0(u,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Le.fromDate(r);return{timestampValue:Ha(i.serializer,s)}}if(r instanceof Le){const s=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ha(i.serializer,s)}}if(r instanceof th)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof li)return{bytesValue:Py(i.serializer,r._byteString)};if(r instanceof Ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bf(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Zf(r)}`)}(t,e)}function o0(t,e){const n={};return ry(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{const s=s0(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function a0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof th||t instanceof li||t instanceof Ct||t instanceof r0)}function u0(t,e,n){if(!a0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zf(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Lk(t,e,n){if((e=ti(e))instanceof eh)return e._internalPath;if(typeof e=="string")return l0(t,e);throw Wa("Field path arguments must be of type string or ",t,!1,void 0,n)}const xk=new RegExp("[~\\*/\\[\\]]");function l0(t,e,n){if(e.search(xk)>=0)throw Wa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw Wa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wa(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(x.INVALID_ARGUMENT,u+t+l)}function zk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jk extends c0{data(){return super.data()}}function d0(t,e){return typeof e=="string"?l0(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $k{convertValue(e,n="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new th(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fs(e));default:return null}}convertTimestamp(e){const n=jn(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);pe(My(r));const i=new $s(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f0 extends c0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class oa extends f0{data(e={}){return super.data(e)}}class Uk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oa(this._firestore,this._userDataWriter,r.key,r,new Yi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const l=new oa(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yi(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const l=new oa(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yi(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return u.type!==0&&(c=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:Hk(u.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class h0 extends $k{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function qk(t){return p0(Yr(t.firestore,qs),[new jf(t._key,Qt.none())])}function Wk(t,e){const n=Yr(t.firestore,qs),r=e0(t),i=Bk(t.converter,e);return p0(n,[Ok(Vk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qt.exists(!1))]).then(()=>r)}function Kk(t,...e){var n,r,i;t=ti(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Mm(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(Mm(e[o])){const v=e[o];e[o]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[o+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[o+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let l,c,h;if(t instanceof Ct)c=Yr(t.firestore,qs),h=zf(t._key.path),l={next:v=>{e[o]&&e[o](Gk(c,t,v))},error:e[o+1],complete:e[o+2]};else{const v=Yr(t,Ju);c=Yr(v.firestore,qs),h=v._query;const y=new h0(c);l={next:I=>{e[o]&&e[o](new Uk(c,y,v,I))},error:e[o+1],complete:e[o+2]},Fk(t._query)}return function(y,I,P,C){const g=new Ek(C),m=new rk(I,g,P);return y.asyncQueue.enqueueAndForget(async()=>ZS(await Pm(y),m)),()=>{g.Na(),y.asyncQueue.enqueueAndForget(async()=>ek(await Pm(y),m))}}(t0(c),h,u,l)}function p0(t,e){return function(r,i){const s=new sr;return r.asyncQueue.enqueueAndForget(async()=>dk(await Ck(r),i,s)),s.promise}(t0(t),e)}function Gk(t,e,n){const r=n.docs.get(e._key),i=new h0(t);return new f0(t,i,e._key,r,new Yi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wi=i})(A8),Na(new Rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new qs(new WT(r.getProvider("auth-internal")),new YT(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Wr(Zp,"4.4.0",e),Wr(Zp,"4.4.0","esm2017")})();var Qk="firebase",Yk="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(Qk,Yk,"app");const Xk={apiKey:"AIzaSyA7gVrpfIO4wAHV_yoBMQnttvHhdry2oFw",authDomain:"notes-react-21452.firebaseapp.com",projectId:"notes-react-21452",storageBucket:"notes-react-21452.appspot.com",messagingSenderId:"269165709671",appId:"1:269165709671:web:7ad43904333352eac0c7c2"},Jk=Q_(Xk),m0=bk(Jk),Vm=Pk(m0,"notes");function Zk(){const[t,e]=nn.useState([]),[n,r]=nn.useState(""),[i,s]=nn.useState(""),o=t.find(h=>h.id===n)||t[0],u=t.sort((h,v)=>v.updatedAt-h.updatedAt);nn.useEffect(()=>Kk(Vm,function(v){const y=v.docs.map(I=>({...I.data(),id:I.id}));e(y)}),[]),nn.useEffect(()=>{var h;n||r((h=t[0])==null?void 0:h.id)},[t]),nn.useEffect(()=>{o&&s(o.body)},[o]);async function l(){const h={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},v=await Wk(Vm,h);r(v.id)}async function c(h){const v=e0(m0,"notes",h);await qk(v)}return Me.jsx("main",{children:t.length>0?Me.jsxs(af,{sizes:[30,70],direction:"horizontal",className:"split",children:[Me.jsx(Iw,{notes:u,currentNote:o,setCurrentNoteId:r,newNote:l,deleteNote:c}),Me.jsx(rE,{tempNoteText:i,setTempNoteText:s})]}):Me.jsxs("div",{className:"no-notes",children:[Me.jsx("h1",{children:"You have no notes"}),Me.jsx("button",{className:"first-note",onClick:l,children:"Create one now"})]})})}Cw.render(Me.jsx(Zk,{}),document.getElementById("root"));
